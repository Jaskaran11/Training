If you're used to using raw SQL to find database records, then you will generally find that there are better ways to carry out the same operations in Rails. Active Record insulates you from the need to use SQL in most cases.

Active Record will perform queries on the database for you and is compatible with most database systems, including MySQL, MariaDB, PostgreSQL, and SQLite. Regardless of which database system you're using, the Active Record method format will always be the same.

To retrieve objects from the database, Active Record provides several finder methods. Each finder method allows you to pass arguments into it to perform certain queries on your database without writing raw SQL.

1.annotate - Adds an SQL comment to queries generated from this relation. 
3.0.0 :004 > Book.annotate("Selecting Book  names").select(:title)
  Book Load (0.6ms)  SELECT "books"."title" FROM "books" /* Selecting Book  names */
 =>                                                                                                                   
[#<Book:0x00007f09a0b0de10 id: nil, title: "1234">,                                                                   
 #<Book:0x00007f09a0b0dd48 id: nil, title: "Rich Dad Poor Dad">,
 #<Book:0x00007f09a0b0dc80 id: nil, title: "3242334">,
 #<Book:0x00007f09a0b0dbb8 id: nil, title: nil>,    
 #<Book:0x00007f09a0b0daf0 id: nil, title: "">,     
 #<Book:0x00007f09a0b0da28 id: nil, title: "IT">,   
 #<Book:0x00007f09a0b0d960 id: nil, title: "The Shining">,
 #<Book:0x00007f09a0b0d898 id: nil, title: "Harry Potter">,
 #<Book:0x00007f09a0b0d7d0 id: nil, title: "Firestarter">] 

2.find - 3.0.0 :005 > Author.find(1)
  Author Load (0.8ms)  SELECT "authors".* FROM "authors" WHERE "authors"."id" = $1 LIMIT $2  [["id", 1], ["LIMIT", 1]]
 =>                                                           
#<Author:0x0000556624fd7700                                   
 id: 1,                                                       
 name: "David Goggins",                                       
 dob: Tue, 05 May 1970,                                       
 gender: "Male",                                              
 country: "America",                                          
 created_at: Wed, 25 May 2022 11:47:49.986085000 UTC +00:00,  
 updated_at: Tue, 31 May 2022 13:28:25.048096000 UTC +00:00,  
 lock_version: 1,                                             
 email_address: "david@gmail.com">  
 
 3. create_with(value)
Sets attributes to be used when creating new records from a relation object.
3.0.0 :017 > author = Author.where(name: "Robin Sharma")
  Author Load (1.3ms)  SELECT "authors".* FROM "authors" WHERE "authors"."name" = $1  [["name", "Robin Sharma"]]
 => []                                                                 
3.0.0 :018 > author.new.name
 => "Robin Sharma" 
3.0.0 :019 > author = authors.create_with(name: "Steve")
(irb):19:in `<main>': undefined local variable or method `authors' for main:Object (NameError)
Did you mean?  author                                                                  
3.0.0 :020 > author = author.create_with(name: "Steve")
  Author Load (0.4ms)  SELECT "authors".* FROM "authors" WHERE "authors"."name" = $1  [["name", "Robin Sharma"]]
 => []                                                                                 
3.0.0 :021 > author.new.name
 => "Steve" 

4. distinct
Specifies whether the records should be unique or not

3.0.0 :024 > Book.select(:title).distinct
  Book Load (1.0ms)  SELECT DISTINCT "books"."title" FROM "books"
 =>                                                                                
[#<Book:0x000055662441d540 id: nil, title: nil>,                                   
 #<Book:0x000055662441d478 id: nil, title: "The Shining">,       
 #<Book:0x000055662441d3b0 id: nil, title: "3242334">,           
 #<Book:0x000055662441d2e8 id: nil, title: "Harry Potter">,      
 #<Book:0x000055662441d220 id: nil, title: "">,                  
 #<Book:0x000055662441d158 id: nil, title: "Rich Dad Poor Dad">, 
 #<Book:0x000055662441d090 id: nil, title: "Firestarter">,       
 #<Book:0x000055662441cfc8 id: nil, title: "IT">,                
 #<Book:0x000055662441cf00 id: nil, title: "1234">]  
 
  eager_load(*args)-
Forces eager loading by performing a LEFT OUTER JOIN on args:
3.0.0 :044 > Author.eager_load(:books)
  SQL (1.1ms)  SELECT "authors"."id" AS t0_r0, "authors"."name" AS t0_r1, "authors"."dob" AS t0_r2, "authors"."gender" AS t0_r3, "authors"."country" AS t0_r4, "authors"."created_at" AS t0_r5, "authors"."updated_at" AS t0_r6, "authors"."lock_version" AS t0_r7, "authors"."email_address" AS t0_r8, "books"."id" AS t1_r0, "books"."title" AS t1_r1, "books"."total_page" AS t1_r2, "books"."rating" AS t1_r3, "books"."price" AS t1_r4, "books"."created_at" AS t1_r5, "books"."updated_at" AS t1_r6, "books"."date_published" AS t1_r7, "books"."publisher_id" AS t1_r8, "books"."author_id" AS t1_r9 FROM "authors" LEFT OUTER JOIN "authors_books" ON "authors_books"."author_id" = "authors"."id" LEFT OUTER JOIN "books" ON "books"."id" = "authors_books"."book_id"

 extract_associated(association) - 
Extracts a named association from the relation. The named association is first preloaded, then the individual association records are collected from the relation. Like so:

 from - Specifies the table from which the records will be fetched. For example:
 3.0.0 :009 > Book.select('title').from('books')
  Book Load (0.6ms)  SELECT "books"."title" FROM books
 =>                                                                                       
[#<Book:0x00007f18e869cd20 id: nil, title: "1234">,                                       
 #<Book:0x00007f18e88bd2a8 id: nil, title: "Rich Dad Poor Dad">,
 #<Book:0x00007f18e88bd168 id: nil, title: "3242334">,
 #<Book:0x00007f18e88bd0a0 id: nil, title: nil>,
 #<Book:0x00007f18e88bcfd8 id: nil, title: "">,
 #<Book:0x00007f18e88bce98 id: nil, title: "IT">,
 #<Book:0x00007f18e88bcd80 id: nil, title: "The Shining">,
 #<Book:0x00007f18e88bcab0 id: nil, title: "Harry Potter">,
 #<Book:0x00007f18e88bc998 id: nil, title: "Firestarter">] 
3.0.0 :010 > 

 where
Returns a new relation, which is the result of filtering the current relation according to the conditions in the arguments.

where accepts conditions in one of several formats. In the examples below, the resulting SQL is given as an illustration; the actual query generated may be different depending on the database adapter.
3.0.0 :019 > Book.where("id = '14'")
  Book Load (0.4ms)  SELECT "books".* FROM "books" WHERE (id = '14')
 => 
[#<Book:0x00007efda445e9f0
  id: 14,
  title: "The Shining",
  total_page: 235,
  rating: 4.5,
  price: 0.5234e3,
  created_at: Fri, 03 Jun 2022 17:38:43.865831000 UTC +00:00,
  updated_at: Fri, 03 Jun 2022 17:38:43.865831000 UTC +00:00,
  date_published: Thu, 22 Jun 2000,
  publisher_id: nil,
  author_id: nil>] 
  
  3.0.0 :022 > Author.where(["name = ?","David Goggins"])
  Author Load (0.6ms)  SELECT "authors".* FROM "authors" WHERE (name = 'David Goggins')
 =>                                                           
[#<Author:0x000055f005d1d760                                  
  id: 1,                                                      
  name: "David Goggins",                                      
  dob: Tue, 05 May 1970,                                      
  gender: "Male",
  country: "America",
  created_at: Wed, 25 May 2022 11:47:49.986085000 UTC +00:00,
  updated_at: Tue, 31 May 2022 13:28:25.048096000 UTC +00:00,
  lock_version: 1,
  email_address: "david@gmail.com">] 

 select(*fields) - 
Works in two unique ways.
First: takes a block so it can be used just like Array#select.


 reverse_order() - 
Reverse the existing order clause on the relation.
3.0.0 :028 > Book.order('title ASC').reverse_order
  Book Load (0.7ms)  SELECT "books".* FROM "books" ORDER BY title DESC
 =>                                                         
[#<Book:0x000055f006affdb0                                  
  id: 8,                                                    
  title: nil,
  total_page: nil,
  rating: nil,
  price: nil,
  created_at: Fri, 27 May 2022 16:56:24.649145000 UTC +00:00,
  updated_at: Fri, 27 May 2022 16:56:24.649145000 UTC +00:00,
  date_published: nil,
  publisher_id: nil,
  author_id: nil>,
 #<Book:0x000055f006affce8
  id: 14,
  title: "The Shining",
  total_page: 235,
  rating: 4.5,
  price: 0.5234e3,
  created_at: Fri, 03 Jun 2022 17:38:43.865831000 UTC +00:00,
  updated_at: Fri, 03 Jun 2022 17:38:43.865831000 UTC +00:00,
  date_published: Thu, 22 Jun 2000,
  publisher_id: nil,
  author_id: nil>,
 #<Book:0x000055f006affc20
  id: 5,
  title: "Rich Dad Poor Dad",
  total_page: -1,
  rating: nil,
  price: 0.499e3,
  created_at: Wed, 25 May 2022 18:30:27.231538000 UTC +00:00,
  updated_at: Fri, 27 May 2022 09:21:36.689545000 UTC +00:00,
  date_published: Fri, 08 May 2015,
  publisher_id: 2,
  author_id: nil>,
 #<Book:0x000055f006affb58
  id: 12,
  title: "IT",
  total_page: 235,
  rating: 4.5,
  price: 0.5234e3,
  created_at: Fri, 03 Jun 2022 17:35:14.755240000 UTC +00:00,
  updated_at: Fri, 03 Jun 2022 17:35:14.755240000 UTC +00:00,
  date_published: Fri, 22 Jan 1999,
  publisher_id: nil,
  author_id: nil>,
 #<Book:0x000055f006affa90
  id: 16,
  title: "Harry Potter",
  total_page: 342,
  rating: 4.7,
  price: 0.42e3,
  created_at: Tue, 07 Jun 2022 14:17:24.855374000 UTC +00:00,
  updated_at: Wed, 08 Jun 2022 08:08:28.440667000 UTC +00:00,
  date_published: Sun, 03 Jan 2010,
  publisher_id: nil,
  author_id: 10017>,
 #<Book:0x000055f006aff9c8
  id: 17,
  title: "Firestarter",
  total_page: 400,
  rating: 3.9,
  price: 0.5005e3,
  created_at: Wed, 08 Jun 2022 08:37:17.462921000 UTC +00:00,
  updated_at: Wed, 08 Jun 2022 08:37:17.462921000 UTC +00:00,
  date_published: Sun, 02 May 1999,
  publisher_id: nil,
  author_id: 10017>,
 #<Book:0x000055f006aff900
  id: 7,
  title: "3242334",
  total_page: nil,
  rating: nil,
  price: nil,
  created_at: Fri, 27 May 2022 09:48:18.925743000 UTC +00:00,
  updated_at: Fri, 27 May 2022 09:48:18.925743000 UTC +00:00,
  date_published: nil,
  publisher_id: nil,
  author_id: nil>,
 #<Book:0x000055f006aff838
  id: 6,
  title: "1234",
  total_page: 238,
  rating: nil,
  price: nil,
  created_at: Fri, 27 May 2022 08:52:13.257238000 UTC +00:00,
  updated_at: Fri, 27 May 2022 08:54:06.162250000 UTC +00:00,
  date_published: nil,
  publisher_id: nil,
  author_id: nil>,
 #<Book:0x000055f006aff770
  id: 9,
  title: "",
  total_page: nil,
  rating: nil,
  price: nil,
  created_at: Fri, 27 May 2022 16:57:48.367344000 UTC +00:00,
  updated_at: Fri, 27 May 2022 16:57:48.367344000 UTC +00:00,
  date_published: nil,
  publisher_id: nil,
  author_id: nil>] 
3.0.0 :029 > 

 reselect(*args) - 
Allows you to change a previously set select statement.

3.0.0 :030 > Book.select(:title).reselect(:total_page)
  Book Load (0.4ms)  SELECT "books"."total_page" FROM "books"
 =>                                                                                                 
[#<Book:0x000055f006a1e108 id: nil, total_page: 238>,                                               
 #<Book:0x000055f006a1e018 id: nil, total_page: -1>,                                                
 #<Book:0x000055f006a1df28 id: nil, total_page: nil>,                                               
 #<Book:0x000055f006a1de10 id: nil, total_page: nil>,                                               
 #<Book:0x000055f006a1dd20 id: nil, total_page: nil>,                                               
 #<Book:0x000055f006a1dc30 id: nil, total_page: 235>,                                               
 #<Book:0x000055f006a1db18 id: nil, total_page: 235>,                                               
 #<Book:0x000055f006a1da28 id: nil, total_page: 342>,                                               
 #<Book:0x000055f006a1d938 id: nil, total_page: 400>]   
 
 readonly - Sets readonly attributes for the returned relation. If value is true (default), attempting to update a record will result in an error.
 
 3.0.0 :034 > book = Book.readonly
  Book Load (0.8ms)  SELECT "books".* FROM "books"
 =>                                                                
[#<Book:0x00005
 3.0.0 :036 > book.first.save
/home/itsacheckmate/.rvm/gems/ruby-3.0.0/gems/activerecord-7.0.3/lib/active_record/persistence.rb:1123:in `_raise_readonly_record_error': Book is marked as readonly (ActiveRecord::ReadOnlyRecord)

 preload(*args) - Preload loads the association data in a separate query.
   Customer Load (0.7ms)  SELECT "customers".* FROM "customers"
  RoomHotel Load (1.4ms)  SELECT "room_hotels".* FROM "room_hotels" WHERE "room_hotels"."customer_id" IN ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16)  [["customer_id", 1], ["customer_id", 2], ["customer_id", 13], ["customer_id", 14], ["customer_id", 15], ["customer_id", 16], ["customer_id", 17], ["customer_id", 18], ["customer_id", 19], ["customer_id", 20], ["customer_id", 21], ["customer_id", 22], ["customer_id", 27], ["customer_id", 31], ["customer_id", 32], ["customer_id", 35]]
 => 
[#<Customer:0x00007f9e00a39fa8
  id: 1,
  name: "Jaskaran Singh",
  address: "#Sector 20-A Chandigarh",
  gender: "Male",
  mobile: "9876573100",
  check_in: Sun, 01 May 2022,
  check_out: Tue, 10 May 2022,
  created_at: Mon, 23 May 2022 10:03:11.423908000 UTC +00:00,
  updated_at: Mon, 23 May 2022 10:05:42.660282000 UTC +00:00,
  country: "India",
  email: nil>,
 #<Customer:0x00007f9e00a39e90
  id: 2,
  name: "Sam Sharma",
  address: "Sector 30,Mumbai",
  gender: "Male",
  mobile: "21313241",
  check_in: Wed, 11 May 2022,
  check_out: Sun, 22 May 2022,
  created_at: Tue, 24 May 2022 12:49:28.509835000 UTC +00:00,
  updated_at: Tue, 24 May 2022 12:49:28.509835000 UTC +00:00,
  country: "India",
  email: nil>,
 #<Customer:0x00007f9e00a39c38
  id: 13,
  name: "Customer Name 1",
  address: nil,
  gender: nil,
  mobile: nil,
  check_in: nil,
  check_out: nil,
  created_at: Tue, 24 May 2022 17:16:06.127119000 UTC +00:00,
  updated_at: Tue, 24 May 2022 17:16:06.127119000 UTC +00:00,
  country: nil,
  email: nil>,
 #<Customer:0x00007f9e00a39a80
  id: 14,
  name: "Customer Name 2",
  address: nil,
  gender: nil,
  mobile: nil,
  check_in: nil,
  check_out: nil,
  created_at: Tue, 24 May 2022 17:16:06.128563000 UTC +00:00,
  updated_at: Tue, 24 May 2022 17:16:06.128563000 UTC +00:00,
  country: nil,
  email: nil>,
 #<Customer:0x00007f9e00a398c8
  id: 15,
  name: "Customer Name 3",
  address: nil,
  gender: nil,
  mobile: nil,
  check_in: nil,
  check_out: nil,
  created_at: Tue, 24 May 2022 17:16:06.129388000 UTC +00:00,
  updated_at: Tue, 24 May 2022 17:16:06.129388000 UTC +00:00,
  country: nil,
  email: nil>,
 #<Customer:0x00007f9e00a39508
  id: 16,
  name: "Customer Name 4",
  address: nil,
  gender: nil,
  mobile: nil,
  check_in: nil,
  check_out: nil,
  created_at: Tue, 24 May 2022 17:16:06.130147000 UTC +00:00,
  updated_at: Tue, 24 May 2022 17:16:06.130147000 UTC +00:00,
  country: nil,
  email: nil>,
 #<Customer:0x00007f9e00a390f8
  id: 17,
  name: "Customer Name 5",
  address: nil,
  gender: nil,
  mobile: nil,
  check_in: nil,
  check_out: nil,
  created_at: Tue, 24 May 2022 17:16:06.130879000 UTC +00:00,
  updated_at: Tue, 24 May 2022 17:16:06.130879000 UTC +00:00,
  country: nil,
  email: nil>,
 #<Customer:0x00007f9e00a38d38
  id: 18,
  name: "Customer Name 6",
  address: nil,
  gender: nil,
  mobile: nil,
  check_in: nil,
  check_out: nil,
  created_at: Tue, 24 May 2022 17:16:06.132452000 UTC +00:00,
  updated_at: Tue, 24 May 2022 17:16:06.132452000 UTC +00:00,
  country: nil,
  email: nil>,
 #<Customer:0x00007f9e00a389c8
  id: 19,
  name: "Customer Name 7",
  address: nil,
  gender: nil,
  mobile: nil,
  check_in: nil,
  check_out: nil,
  created_at: Tue, 24 May 2022 17:16:06.133470000 UTC +00:00,
  updated_at: Tue, 24 May 2022 17:16:06.133470000 UTC +00:00,
  country: nil,
  email: nil>,
 #<Customer:0x00007f9e00a386d0
  id: 20,
  name: "Customer Name 8",
  address: nil,
  gender: nil,
  mobile: nil,
  check_in: nil,
  check_out: nil,
  created_at: Tue, 24 May 2022 17:16:06.134360000 UTC +00:00,
  updated_at: Tue, 24 May 2022 17:16:06.134360000 UTC +00:00,
  country: nil,
  email: nil>,
 #<Customer:0x00007f9e00a383b0
  id: 21,
  name: "Customer Name 9",
  address: nil,
  gender: nil,
  mobile: nil,
  check_in: nil,
  check_out: nil,
  created_at: Tue, 24 May 2022 17:16:06.135231000 UTC +00:00,
  updated_at: Tue, 24 May 2022 17:16:06.135231000 UTC +00:00,
  country: nil,
  email: nil>,
 #<Customer:0x00007f9e00a33f90
  id: 22,
  name: "Customer Name 10",
  address: nil,
  gender: nil,
  mobile: nil,
  check_in: nil,
  check_out: nil,
  created_at: Tue, 24 May 2022 17:16:06.136111000 UTC +00:00,
  updated_at: Tue, 24 May 2022 17:16:06.136111000 UTC +00:00,
  country: nil,
  email: nil>,
 #<Customer:0x00007f9e00a33c98
  id: 27,
  name: "John Doe",
  address: nil,
  gender: nil,
  mobile: nil,
  check_in: nil,
  check_out: nil,
  created_at: Fri, 27 May 2022 10:14:19.192182000 UTC +00:00,
  updated_at: Fri, 27 May 2022 10:14:19.192182000 UTC +00:00,
  country: nil,
  email: nil>,
 #<Customer:0x00007f9e00a33b30
  id: 31,
  name: "Sam",
  address: "Faridabad",
  gender: nil,
  mobile: "9876573100",
  check_in: Tue, 10 May 2022,
  check_out: Sat, 14 May 2022,
  created_at: Tue, 31 May 2022 10:57:14.180986000 UTC +00:00,
  updated_at: Tue, 31 May 2022 10:57:14.180986000 UTC +00:00,
  country: "India",
  email: nil>,
 #<Customer:0x00007f9e00a339f0
  gender: nil,
  mobile: nil,
  check_in: nil,
  check_out: nil,
  created_at: Tue, 31 May 2022 12:58:41.611610000 UTC +00:00,
  updated_at: Tue, 31 May 2022 12:58:41.611610000 UTC +00:00,
  country: nil,
  email: nil>] 

 Includes

Includes loads the association data in a separate query just like preload.
 3.0.0 :018 >  Customer.includes(:room_hotel).references(:room_hotel).to_a
  SQL (1.5ms)  SELECT "customers"."id" AS t0_r0, "customers"."name" AS t0_r1, "customers"."address" AS t0_r2, "customers"."gender" AS t0_r3, "customers"."mobile" AS t0_r4, "customers"."check_in" AS t0_r5, "customers"."check_out" AS t0_r6, "customers"."created_at" AS t0_r7, "customers"."updated_at" AS t0_r8, "customers"."country" AS t0_r9, "customers"."email" AS t0_r10, "room_hotels"."id" AS t1_r0, "room_hotels"."name" AS t1_r1, "room_hotels"."price" AS t1_r2, "room_hotels"."created_at" AS t1_r3, "room_hotels"."updated_at" AS t1_r4, "room_hotels"."customer_id" AS t1_r5 FROM "customers" LEFT OUTER JOIN "room_hotels" ON "room_hotels"."customer_id" = "customers"."id"                                                            
 =>                                                                                                                          
[#<Customer:0x00007f9e008936b8                                                                                               
  id: 1,                                                                                                                     
  name: "Jaskaran Singh",                                                                                                    
  address: "#Sector 20-A Chandigarh",                                                                                        
  gender: "Male",                                                                                                            
  mobile: "9876573100",                                                                                                      
  check_in: Sun, 01 May 2022,                                                                                                
  check_out: Tue, 10 May 2022,                                                                                               
  created_at: Mon, 23 May 2022 10:03:11.423908000 UTC +00:00,                                                                
  updated_at: Mon, 23 May 2022 10:05:42.660282000 UTC +00:00,                                                                
  country: "India",
  email: nil>,
 #<Customer:0x00007f9e008919a8
  id: 2,
  name: "Sam Sharma",
  address: "Sector 30,Mumbai",
  gender: "Male",
  mobile: "21313241",
  check_in: Wed, 11 May 2022,
  check_out: Sun, 22 May 2022,
  created_at: Tue, 24 May 2022 12:49:28.509835000 UTC +00:00,
  updated_at: Tue, 24 May 2022 12:49:28.509835000 UTC +00:00,
  country: "India",
  email: nil>,
 #<Customer:0x00007f9e00890ad0
  id: 20,
  name: "Customer Name 8",
  address: nil,
  gender: nil,
  mobile: nil,
  check_in: nil,
  check_out: nil,
  created_at: Tue, 24 May 2022 17:16:06.134360000 UTC +00:00,
  updated_at: Tue, 24 May 2022 17:16:06.134360000 UTC +00:00,
  country: nil,
  email: nil>,
 #<Customer:0x00007f9e008906c0
  id: 27,
  name: "John Doe",
  address: nil,
  gender: nil,
  mobile: nil,
  check_in: nil,
  check_out: nil,
  created_at: Fri, 27 May 2022 10:14:19.192182000 UTC +00:00,
  updated_at: Fri, 27 May 2022 10:14:19.192182000 UTC +00:00,
  country: nil,
  email: nil>,
 #<Customer:0x00007f9e00890148
  id: 17,
  name: "Customer Name 5",
  address: nil,
  gender: nil,
  mobile: nil,
  check_in: nil,
  check_out: nil,
  created_at: Tue, 24 May 2022 17:16:06.130879000 UTC +00:00,
  updated_at: Tue, 24 May 2022 17:16:06.130879000 UTC +00:00,
  country: nil,
  email: nil>,
 #<Customer:0x00007f9e0098fb98
  id: 31,
  name: "Sam",
  address: "Faridabad",
  gender: nil,
  mobile: "9876573100",
  check_in: Tue, 10 May 2022,
  check_out: Sat, 14 May 2022,
  created_at: Tue, 31 May 2022 10:57:14.180986000 UTC +00:00,
  updated_at: Tue, 31 May 2022 10:57:14.180986000 UTC +00:00,
  country: "India",
  email: nil>,
 #<Customer:0x00007f9e0098ee50
  id: 18,
  name: "Customer Name 6",
  address: nil,
  gender: nil,
  mobile: nil,
  check_in: nil,
  check_out: nil,
  created_at: Tue, 24 May 2022 17:16:06.132452000 UTC +00:00,
  updated_at: Tue, 24 May 2022 17:16:06.132452000 UTC +00:00,
  country: nil,
  email: nil>,
 #<Customer:0x00007f9e0098e248
  id: 15,
  name: "Customer Name 3",
  address: nil,
  gender: nil,
  mobile: nil,
  check_in: nil,
  check_out: nil,
  created_at: Tue, 24 May 2022 17:16:06.129388000 UTC +00:00,
  updated_at: Tue, 24 May 2022 17:16:06.129388000 UTC +00:00,
  country: nil,
  email: nil>,
 #<Customer:0x00007f9e0098d8e8
  id: 13,
  name: "Customer Name 1",
  address: nil,
  gender: nil,
  mobile: nil,
  check_in: nil,
  check_out: nil,
  created_at: Tue, 24 May 2022 17:16:06.127119000 UTC +00:00,
  updated_at: Tue, 24 May 2022 17:16:06.127119000 UTC +00:00,
  country: nil,
  email: nil>,
 #<Customer:0x00007f9e0098d3c0
  id: 21,
  name: "Customer Name 9",
  address: nil,
  gender: nil,
  mobile: nil,
  check_in: nil,
  check_out: nil,
  created_at: Tue, 24 May 2022 17:16:06.135231000 UTC +00:00,
  updated_at: Tue, 24 May 2022 17:16:06.135231000 UTC +00:00,
  country: nil,
  email: nil>,
 #<Customer:0x00007f9e0098d0a0
  id: 19,
  name: "Customer Name 7",
  address: nil,
  gender: nil,
  mobile: nil,
  check_in: nil,
  check_out: nil,
  created_at: Tue, 24 May 2022 17:16:06.133470000 UTC +00:00,
  updated_at: Tue, 24 May 2022 17:16:06.133470000 UTC +00:00,
  country: nil,
  email: nil>,
 #<Customer:0x00007f9e0098cec0
  id: 32,
  name: "Uchiha",
  address: "chd",
  gender: nil,
  mobile: "9876573100",
  check_in: Thu, 05 May 2022,
  check_out: Tue, 10 May 2022,
  created_at: Tue, 31 May 2022 12:50:22.377050000 UTC +00:00,
  updated_at: Tue, 31 May 2022 12:50:22.377050000 UTC +00:00,
  country: "india",
  email: nil>,
 #<Customer:0x00007f9e0098cbc8
  id: 16,
  name: "Customer Name 4",
  address: nil,
  gender: nil,
  mobile: nil,
  check_in: nil,
  check_out: nil,
  created_at: Tue, 24 May 2022 17:16:06.130147000 UTC +00:00,
  updated_at: Tue, 24 May 2022 17:16:06.130147000 UTC +00:00,
  country: nil,
  email: nil>,
 #<Customer:0x00007f9e0098c9e8
  id: 22,
  name: "Customer Name 10",
  address: nil,
  gender: nil,
  mobile: nil,
  check_in: nil,
  check_out: nil,
  created_at: Tue, 24 May 2022 17:16:06.136111000 UTC +00:00,
  updated_at: Tue, 24 May 2022 17:16:06.136111000 UTC +00:00,
  country: nil,
  email: nil>,
 #<Customer:0x00007f9e0098c7b8
  id: 14,
  name: "Customer Name 2",
  address: nil,
  gender: nil,
  mobile: nil,
  check_in: nil,
  check_out: nil,
  created_at: Tue, 24 May 2022 17:16:06.128563000 UTC +00:00,
  updated_at: Tue, 24 May 2022 17:16:06.128563000 UTC +00:00,
  country: nil,
  email: nil>,
 #<Customer:0x00007f9e0098c3f8
  id: 35,
  name: "Jas",
  address: nil,
  gender: nil,
  mobile: nil,
  check_in: nil,
  check_out: nil,
  created_at: Tue, 31 May 2022 12:58:41.611610000 UTC +00:00,
  updated_at: Tue, 31 May 2022 12:58:41.611610000 UTC +00:00,
  country: nil,
  email: nil>] 
3.0.0 :019 > 

 order(*args)
Applies an ORDER BY clause to a query.
order accepts arguments in one of several formats.
3.0.0 :022 > Customer.order(:name)
  Customer Load (1.3ms)  SELECT "customers".* FROM "customers" ORDER BY "customers"."name" ASC
 =>                                                                                   
[#<Customer:0x00007f9e00842470                                                        
  id: 13,                                                                             
  name: "Customer Name 1",                                                            
  address: nil,                                                                       
  gender: nil,                                                                        
  mobile: nil,                                                                        
  check_in: nil,                                                                      
  check_out: nil,                                                                     
  created_at: Tue, 24 May 2022 17:16:06.127119000 UTC +00:00,                         
  updated_at: Tue, 24 May 2022 17:16:06.127119000 UTC +00:00,                         
  country: nil,                                                                       
  email: nil>,                                                                        
 #<Customer:0x00007f9e008423a8                                                        
  id: 22,
  name: "Customer Name 10",
  address: nil,
  gender: nil,
  mobile: nil,
  check_in: nil,
  check_out: nil,
  created_at: Tue, 24 May 2022 17:16:06.136111000 UTC +00:00,
  updated_at: Tue, 24 May 2022 17:16:06.136111000 UTC +00:00,
  country: nil,
  email: nil>,
 #<Customer:0x00007f9e008422e0
  id: 14,
  name: "Customer Name 2",
  address: nil,
  gender: nil,
  mobile: nil,
  check_in: nil,
  check_out: nil,
  created_at: Tue, 24 May 2022 17:16:06.128563000 UTC +00:00,
  updated_at: Tue, 24 May 2022 17:16:06.128563000 UTC +00:00,
  country: nil,
  email: nil>,
 #<Customer:0x00007f9e00842218
  id: 15,
  name: "Customer Name 3",
  address: nil,
  gender: nil,
  mobile: nil,
  check_in: nil,
  check_out: nil,
  created_at: Tue, 24 May 2022 17:16:06.129388000 UTC +00:00,
  updated_at: Tue, 24 May 2022 17:16:06.129388000 UTC +00:00,
  country: nil,
  email: nil>,
 #<Customer:0x00007f9e00842150
  id: 16,
  name: "Customer Name 4",
  address: nil,
  gender: nil,
  mobile: nil,
  check_in: nil,
  check_out: nil,
  created_at: Tue, 24 May 2022 17:16:06.130147000 UTC +00:00,
  updated_at: Tue, 24 May 2022 17:16:06.130147000 UTC +00:00,
  country: nil,
  email: nil>,
 #<Customer:0x00007f9e00842088
  id: 17,
  name: "Customer Name 5",
  address: nil,
  gender: nil,
  mobile: nil,
  check_in: nil,
  check_out: nil,
  created_at: Tue, 24 May 2022 17:16:06.130879000 UTC +00:00,
  updated_at: Tue, 24 May 2022 17:16:06.130879000 UTC +00:00,
  country: nil,
  email: nil>,
 #<Customer:0x00007f9e00841fc0
  id: 18,
  name: "Customer Name 6",
  address: nil,
  gender: nil,
  mobile: nil,
  check_in: nil,
  check_out: nil,
  created_at: Tue, 24 May 2022 17:16:06.132452000 UTC +00:00,
  updated_at: Tue, 24 May 2022 17:16:06.132452000 UTC +00:00,
  country: nil,
  email: nil>,
 #<Customer:0x00007f9e00841ef8
  id: 19,
  name: "Customer Name 7",
  address: nil,
  gender: nil,
  mobile: nil,
  check_in: nil,
  check_out: nil,
  created_at: Tue, 24 May 2022 17:16:06.133470000 UTC +00:00,
  updated_at: Tue, 24 May 2022 17:16:06.133470000 UTC +00:00,
  country: nil,
  email: nil>,
 #<Customer:0x00007f9e00841e30
  id: 20,
  name: "Customer Name 8",
  address: nil,
  gender: nil,
  mobile: nil,
  check_in: nil,
  check_out: nil,
  created_at: Tue, 24 May 2022 17:16:06.134360000 UTC +00:00,
  updated_at: Tue, 24 May 2022 17:16:06.134360000 UTC +00:00,
  country: nil,
  email: nil>,
 #<Customer:0x00007f9e00841d68
  id: 21,
  name: "Customer Name 9",
  address: nil,
  gender: nil,
  mobile: nil,
  check_in: nil,
  check_out: nil,
  created_at: Tue, 24 May 2022 17:16:06.135231000 UTC +00:00,
  updated_at: Tue, 24 May 2022 17:16:06.135231000 UTC +00:00,
  country: nil,
  email: nil>,
 #<Customer:0x00007f9e00841ca0
  id: 35,
  name: "Jas",
  address: nil,
  gender: nil,
  mobile: nil,
  check_in: nil,
  check_out: nil,
  created_at: Tue, 31 May 2022 12:58:41.611610000 UTC +00:00,
  updated_at: Tue, 31 May 2022 12:58:41.611610000 UTC +00:00,
  country: nil,
  email: nil>,
 #<Customer:0x00007f9e00841bd8
  id: 1,
  name: "Jaskaran Singh",
  address: "#Sector 20-A Chandigarh",
  gender: "Male",
  mobile: "9876573100",
  updated_at: Fri, 27 May 2022 10:14:19.192182000 UTC +00:00,
  country: nil,
  email: nil>,
 #<Customer:0x00007f9e00841a48
  id: 31,
  name: "Sam",
  address: "Faridabad",
  gender: nil,
  mobile: "9876573100",
  check_in: Tue, 10 May 2022,
  check_out: Sat, 14 May 2022,
  created_at: Tue, 31 May 2022 10:57:14.180986000 UTC +00:00,
  updated_at: Tue, 31 May 2022 10:57:14.180986000 UTC +00:00,
  country: "India",
  email: nil>,
 #<Customer:0x00007f9e00841980
  id: 2,
  name: "Sam Sharma",
  address: "Sector 30,Mumbai",
  gender: "Male",
  mobile: "21313241",
  check_in: Wed, 11 May 2022,
  check_out: Sun, 22 May 2022,
  created_at: Tue, 24 May 2022 12:49:28.509835000 UTC +00:00,
  updated_at: Tue, 24 May 2022 12:49:28.509835000 UTC +00:00,
  country: "India",
  email: nil>,
 #<Customer:0x00007f9e008418b8
  id: 32,
  name: "Uchiha",
  address: "chd",
  gender: nil,
  mobile: "9876573100",
  check_in: Thu, 05 May 2022,
  check_out: Tue, 10 May 2022,
  created_at: Tue, 31 May 2022 12:50:22.377050000 UTC +00:00,
  updated_at: Tue, 31 May 2022 12:50:22.377050000 UTC +00:00,
  country: "india",
  email: nil>] 
3.0.0 :023 > Customer.order(name: :desc)
  Customer Load (0.8ms)  SELECT "customers".* FROM "customers" ORDER BY "customers"."name" DESC
 =>                                                                                         
[#<Customer:0x00007f9e0083a568                                                              
  id: 32,                                                                                   
  name: "Uchiha",                                                                           
  address: "chd",                                                                           
  gender: nil,                                                                              
  mobile: "9876573100",                                                                     
  check_in: Thu, 05 May 2022,                                                               
  check_out: Tue, 10 May 2022,                                                              
  created_at: Tue, 31 May 2022 12:50:22.377050000 UTC +00:00,                               
  updated_at: Tue, 31 May 2022 12:50:22.377050000 UTC +00:00,                               
  country: "india",                                                                         
  email: nil>,                                                                              
 #<Customer:0x00007f9e0083a478                                                              
  id: 2,
  name: "Sam Sharma",
  address: "Sector 30,Mumbai",
  gender: "Male",
  mobile: "21313241",
  check_in: Wed, 11 May 2022,
  check_out: Sun, 22 May 2022,
  created_at: Tue, 24 May 2022 12:49:28.509835000 UTC +00:00,
  updated_at: Tue, 24 May 2022 12:49:28.509835000 UTC +00:00,
  country: "India",
  email: nil>,
 #<Customer:0x00007f9e0083a388
  id: 31,
  name: "Sam",
  address: "Faridabad",
  gender: nil,
  mobile: "9876573100",
  check_in: Tue, 10 May 2022,
  check_out: Sat, 14 May 2022,
  created_at: Tue, 31 May 2022 10:57:14.180986000 UTC +00:00,
  updated_at: Tue, 31 May 2022 10:57:14.180986000 UTC +00:00,
  country: "India",
  email: nil>,
 #<Customer:0x00007f9e0083a270
  id: 27,
  name: "John Doe",
  address: nil,
  gender: nil,
  mobile: nil,
  check_in: nil,
  check_out: nil,
  created_at: Fri, 27 May 2022 10:14:19.192182000 UTC +00:00,
  updated_at: Fri, 27 May 2022 10:14:19.192182000 UTC +00:00,
  country: nil,
  email: nil>,
 #<Customer:0x00007f9e0083a130
  id: 1,
  name: "Jaskaran Singh",
  address: "#Sector 20-A Chandigarh",
  gender: "Male",
  mobile: "9876573100",
  check_in: Sun, 01 May 2022,
  check_out: Tue, 10 May 2022,
  created_at: Mon, 23 May 2022 10:03:11.423908000 UTC +00:00,
  updated_at: Mon, 23 May 2022 10:05:42.660282000 UTC +00:00,
  country: "India",
  email: nil>,
 #<Customer:0x00007f9e0083a018
  id: 35,
  name: "Jas",
  address: nil,
  gender: nil,
  mobile: nil,
  check_in: nil,
  check_out: nil,
  created_at: Tue, 31 May 2022 12:58:41.611610000 UTC +00:00,
  updated_at: Tue, 31 May 2022 12:58:41.611610000 UTC +00:00,
  country: nil,
  email: nil>,
 #<Customer:0x00007f9e00839f28
  id: 21,
  name: "Customer Name 9",
  address: nil,
  gender: nil,
  mobile: nil,
  check_in: nil,
  check_out: nil,
  created_at: Tue, 24 May 2022 17:16:06.135231000 UTC +00:00,
  updated_at: Tue, 24 May 2022 17:16:06.135231000 UTC +00:00,
  country: nil,
  email: nil>,
 #<Customer:0x00007f9e00839e60
  id: 20,
  name: "Customer Name 8",
  address: nil,
  gender: nil,
  mobile: nil,
  check_in: nil,
  check_out: nil,
  created_at: Tue, 24 May 2022 17:16:06.134360000 UTC +00:00,
  updated_at: Tue, 24 May 2022 17:16:06.134360000 UTC +00:00,
  country: nil,
  email: nil>,
 #<Customer:0x00007f9e00839d70
  id: 19,
  name: "Customer Name 7",
  address: nil,
  gender: nil,
  mobile: nil,
  check_in: nil,
  check_out: nil,
  created_at: Tue, 24 May 2022 17:16:06.133470000 UTC +00:00,
  updated_at: Tue, 24 May 2022 17:16:06.133470000 UTC +00:00,
  country: nil,
  email: nil>,
 #<Customer:0x00007f9e00839c80
  id: 18,
  name: "Customer Name 6",
  address: nil,
  gender: nil,
  mobile: nil,
  check_in: nil,
  check_out: nil,
  created_at: Tue, 24 May 2022 17:16:06.132452000 UTC +00:00,
  updated_at: Tue, 24 May 2022 17:16:06.132452000 UTC +00:00,
  country: nil,
  email: nil>,
 #<Customer:0x00007f9e00839b90
  id: 17,
  name: "Customer Name 5",
  address: nil,
  gender: nil,
  mobile: nil,
  check_in: nil,
  check_out: nil,
  created_at: Tue, 24 May 2022 17:16:06.130879000 UTC +00:00,
  updated_at: Tue, 24 May 2022 17:16:06.130879000 UTC +00:00,
  country: nil,
  email: nil>,
 #<Customer:0x00007f9e00839aa0
  id: 16,
  name: "Customer Name 4",
  address: nil,
  gender: nil,
  mobile: nil,
  check_in: nil,
  check_out: nil,
  created_at: Tue, 24 May 2022 17:16:06.130147000 UTC +00:00,
  updated_at: Tue, 24 May 2022 17:16:06.130147000 UTC +00:00,
  country: nil,
  email: nil>,
 #<Customer:0x00007f9e008399b0
  id: 15,
  name: "Customer Name 3",
  address: nil,
  gender: nil,
  mobile: nil,
  check_in: nil,
  check_out: nil,
  created_at: Tue, 24 May 2022 17:16:06.129388000 UTC +00:00,
  updated_at: Tue, 24 May 2022 17:16:06.129388000 UTC +00:00,
  country: nil,
  email: nil>,
 #<Customer:0x00007f9e008398e8
  id: 14,
  name: "Customer Name 2",
  address: nil,
  gender: nil,
  mobile: nil,
  check_in: nil,
  check_out: nil,
  created_at: Tue, 24 May 2022 17:16:06.128563000 UTC +00:00,
  updated_at: Tue, 24 May 2022 17:16:06.128563000 UTC +00:00,
  country: nil,
  email: nil>,
 #<Customer:0x00007f9e008397f8
  id: 22,
  name: "Customer Name 10",
  address: nil,
  gender: nil,
  mobile: nil,
  check_in: nil,
  check_out: nil,
  created_at: Tue, 24 May 2022 17:16:06.136111000 UTC +00:00,
  updated_at: Tue, 24 May 2022 17:16:06.136111000 UTC +00:00,
  country: nil,
  email: nil>,
 #<Customer:0x00007f9e00839708
  id: 13,
  name: "Customer Name 1",
  address: nil,
  gender: nil,
  mobile: nil,
  check_in: nil,
  check_out: nil,
  created_at: Tue, 24 May 2022 17:16:06.127119000 UTC +00:00,
  updated_at: Tue, 24 May 2022 17:16:06.127119000 UTC +00:00,
  country: nil,
  email: nil>] 
3.0.0 :024 > 


Retrieving a Single Object
1.find -
3.0.0 :001 > customer = Customer.find(1)
  Customer Load (0.9ms)  SELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2  [["id", 1], ["LIMIT", 1]]                             
 =>                                                                        
#<Customer:0x00007fe21c77fd20                                              
...   

3.0.0 :007 > customer = Customer.find([1, 35])
  Customer Load (0.8ms)  SELECT "customers".* FROM "customers" WHERE "customers"."id" IN ($1, $2)  [["id", 1], ["id", 35]]             
 =>                                                    
[#<Customer:0x00005625059da3e8
... 

2.take -
The take method retrieves a record without any implicit ordering. 
3.0.0 :012 > customer = Customer.take
  Customer Load (0.7ms)  SELECT "customers".* FROM "customers" LIMIT $1  [["LIMIT", 1]]                               
 => 
#<Customer:0x00005625053c20a0
... 
3.0.0 :013 > customer
 => 
#<Customer:0x00005625053c20a0         
 id: 1,
 name: "Jaskaran Singh",
 address: "#Sector 20-A Chandigarh",
 gender: "Male",
 mobile: "9876573100",
 check_in: Sun, 01 May 2022,
 check_out: Tue, 10 May 2022,
 created_at: Mon, 23 May 2022 10:03:11.423908000 UTC +00:00,
 updated_at: Mon, 23 May 2022 10:05:42.660282000 UTC +00:00,
 country: "India",
 email: nil>
 
 3.0.0 :017 > customer = Customer.take(3)
  Customer Load (0.6ms)  SELECT "customers".* FROM "customers" LIMIT $1  [["LIMIT", 3]]
 => 
[#<Customer:0x0000562505ae8578
... 
3.0.0 :018 > customer
 => 
[#<Customer:0x0000562505ae8578
  id: 1,                      
  name: "Jaskaran Singh",     
  address: "#Sector 20-A Chandigarh",
  gender: "Male",             
  mobile: "9876573100",       
  check_in: Sun, 01 May 2022, 
  check_out: Tue, 10 May 2022,
  created_at: Mon, 23 May 2022 10:03:11.423908000 UTC +00:00,
  updated_at: Mon, 23 May 2022 10:05:42.660282000 UTC +00:00,
  country: "India",           
  email: nil>,                
 #<Customer:0x0000562505ae84b0
  id: 2,                      
  name: "Sam Sharma",
  address: "Sector 30,Mumbai",
  gender: "Male",
  mobile: "21313241",
  check_in: Wed, 11 May 2022,
  check_out: Sun, 22 May 2022,
  created_at: Tue, 24 May 2022 12:49:28.509835000 UTC +00:00,
  updated_at: Tue, 24 May 2022 12:49:28.509835000 UTC +00:00,
  country: "India",
  email: nil>,
 #<Customer:0x0000562505ae83e8
  id: 13,
  name: "Customer Name 1",
  address: nil,
  gender: nil,
  mobile: nil,
  check_in: nil,
  check_out: nil,
  created_at: Tue, 24 May 2022 17:16:06.127119000 UTC +00:00,
  updated_at: Tue, 24 May 2022 17:16:06.127119000 UTC +00:00,
  country: nil,
  email: nil>] 

3 first
The first method finds the first record ordered by primary key (default). 
 3.0.0 :019 > customer = Customer.first
  Customer Load (0.6ms)  SELECT "customers".* FROM "customers" ORDER BY "customers"."id" ASC LIMIT $1  [["LIMIT", 1]]                                      
 =>                                                                        
#<Customer:0x0000562505bdbf20                                              
...                                                                        
3.0.0 :020 > customer
 => 
#<Customer:0x0000562505bdbf20                                              
 id: 1,                                                                    
 name: "Jaskaran Singh",                                                   
 address: "#Sector 20-A Chandigarh",                                       
 gender: "Male",                                                           
 mobile: "9876573100",                                                     
 check_in: Sun, 01 May 2022,                                               
 check_out: Tue, 10 May 2022,                                              
 created_at: Mon, 23 May 2022 10:03:11.423908000 UTC +00:00,
 updated_at: Mon, 23 May 2022 10:05:42.660282000 UTC +00:00,
 country: "India",            
 email: nil> 
 
 3.0.0 :021 > customer = Customer.first(3)
  Customer Load (0.4ms)  SELECT "customers".* FROM "customers" ORDER BY "customers"."id" ASC LIMIT $1  [["LIMIT", 3]]               
 =>                                                 
[#<Customer:0x00007fe21ca64400                      
...         
0.0 :022 > customer
 => 
[#<Customer:0x00007fe21ca64400
  id: 1,                      
  name: "Jaskaran Singh",     
  address: "#Sector 20-A Chandigarh",
  gender: "Male",             
  mobile: "9876573100",       
  check_in: Sun, 01 May 2022, 
  check_out: Tue, 10 May 2022,
  created_at: Mon, 23 May 2022 10:03:11.423908000 UTC +00:00,
  updated_at: Mon, 23 May 2022 10:05:42.660282000 UTC +00:00,
  country: "India",           
  email: nil>,                
 #<Customer:0x00007fe21ca64338
  id: 2,                      
  name: "Sam Sharma",
  address: "Sector 30,Mumbai",
  gender: "Male",
  mobile: "21313241",
  check_in: Wed, 11 May 2022,
  check_out: Sun, 22 May 2022,
  created_at: Tue, 24 May 2022 12:49:28.509835000 UTC +00:00,
  updated_at: Tue, 24 May 2022 12:49:28.509835000 UTC +00:00,
  country: "India",
  email: nil>,
 #<Customer:0x00007fe21ca64248
  id: 13,
  name: "Customer Name 1",
  address: nil,
  gender: nil,
  mobile: nil,
  check_in: nil,
  check_out: nil,
  created_at: Tue, 24 May 2022 17:16:06.127119000 UTC +00:00,
  updated_at: Tue, 24 May 2022 17:16:06.127119000 UTC +00:00,
  country: nil,
  email: nil>] 
  
  4.last - The last method finds the last record ordered by primary key (default). 
  3.0.0 :028 > customer = Customer.last
  Customer Load (0.7ms)  SELECT "customers".* FROM "customers" ORDER BY "customers"."id" DESC LIMIT $1  [["LIMIT", 1]]
 =>                                                                        
#<Customer:0x0000562505aeb1b0                                              
...                                                                        
3.0.0 :029 > customer
 => 
#<Customer:0x0000562505aeb1b0                                              
 id: 35,                                                                   
 name: "Jas",  
 
 3.0.0 :030 > customer = Customer.last(3)
  Customer Load (0.7ms)  SELECT "customers".* FROM "customers" ORDER BY "customers"."id" DESC LIMIT $1  [["LIMIT", 3]]
 =>                                   
[#<Customer:0x00005625053c2de8
... 
3.0.0 :031 > customer
 => 
[#<Customer:0x00005625053c2de8
  id: 31,                     
  name: "Sam",                
  address: "Faridabad",       
  gender: nil,                
  mobile: "9876573100",       
  check_in: Tue, 10 May 2022, 
  check_out: Sat, 14 May 2022,
  created_at: Tue, 31 May 2022 10:57:14.180986000 UTC +00:00,
  updated_at: Tue, 31 May 2022 10:57:14.180986000 UTC +00:00,
  country: "India",           
  email: nil>,                
 #<Customer:0x00005625053c2eb0
  id: 32,                     
  name: "Uchiha",
  address: "chd",
  gender: nil,
  mobile: "9876573100",
  check_in: Thu, 05 May 2022,
  check_out: Tue, 10 May 2022,
  created_at: Tue, 31 May 2022 12:50:22.377050000 UTC +00:00,
  updated_at: Tue, 31 May 2022 12:50:22.377050000 UTC +00:00,
  country: "india",
  email: nil>,
 #<Customer:0x00005625053c2f78
  id: 35,
  name: "Jas",
  address: nil,
  gender: nil,
  mobile: nil,
  check_in: nil,
  check_out: nil,
  created_at: Tue, 31 May 2022 12:58:41.611610000 UTC +00:00,
  updated_at: Tue, 31 May 2022 12:58:41.611610000 UTC +00:00,
  country: nil,
  email: nil>] 

3.0.0 :032 > customer = Customer.order(:name).last
  Customer Load (0.2ms)  SELECT "customers".* FROM "customers" ORDER BY "customers"."name" DESC LIMIT $1  [["LIMIT", 1]]
 =>                                                                                              
#<Customer:0x00005625056a2900                                                                    
...                                                                                              
3.0.0 :033 > customer
 => 
#<Customer:0x00005625056a2900                                                                    
 id: 32,                                                                                         
 name: "Uchiha",                                                                                 
 address: "chd",                                                                                 
 gender: nil,                                                                                    
 mobile: "9876573100",                                                                           
 check_in: Thu, 05 May 2022,                                                                     
 check_out: Tue, 10 May 2022,                                                                    
 created_at: Tue, 31 May 2022 12:50:22.377050000 UTC +00:00,                                     
 updated_at: Tue, 31 May 2022 12:50:22.377050000 UTC +00:00,
 country: "india",            
 email: nil>                  
3.0.0 :034 > customer = Customer.order(:name).first
  Customer Load (0.7ms)  SELECT "customers".* FROM "customers" ORDER BY "customers"."name" ASC LIMIT $1  [["LIMIT", 1]]
 =>       
 
 5.find_by ->
 3.0.0 :038 > Customer.find_by name: 'Jaskaran Singh'
  Customer Load (0.8ms)  SELECT "customers".* FROM "customers" WHERE "customers"."name" = $1 LIMIT $2  [["name", "Jaskaran Singh"], ["LIMIT", 1]]
 =>                                                               
#<Customer:0x0000562505b518c0                                     
 id: 1,                                                           
 name: "Jaskaran Singh",                                          
 address: "#Sector 20-A Chandigarh",                              
 gender: "Male",                                                  
 mobile: "9876573100",                                            
 check_in: Sun, 01 May 2022,                                      
 check_out: Tue, 10 May 2022,                                     
 created_at: Mon, 23 May 2022 10:03:11.423908000 UTC +00:00,      
 updated_at: Mon, 23 May 2022 10:05:42.660282000 UTC +00:00,
 country: "India",
 email: nil>
 
 3.0.0 :039 > Customer.find_by name: 'Ram'
  Customer Load (0.4ms)  SELECT "customers".* FROM "customers" WHERE "customers"."name" = $1 LIMIT $2  [["name", "Ram"], ["LIMIT", 1]]
 => nil 
 
 Retrieving Multiple Objects in Batches - 
 
 When you call #each, all records will be loaded into memory. When you call #find_each, records will be loaded into memory in batches of the given batch size.

So when your query returns a number of records that would be too much memory for the server's available resources, then using #find_each would be a great choice.

ActiveRecord::Batches provides public methods like find_each, find_in_batches and in_batches to work with the records in batches which helps in reducing memory consumption.

1.find_Each - 

3.0.0 :004 > Book.find_each do |book|
3.0.0 :005 >   puts "#{book.title}"
3.0.0 :006 > end
  Book Load (0.5ms)  SELECT "books".* FROM "books" ORDER BY "books"."id" ASC LIMIT $1  [["LIMIT", 1000]]
Rich Dad Poor Dad
IT
The Shining
Harry Potter
Firestarter
 => nil 

Options for find_Each - 
1.batch_size : The :batch_size option allows you to specify the number of records to be retrieved in each batch, before being passed individually to the block.
3.0.0 :086 > Customer.find_each(batch_size: 5) do |customer|
3.0.0 :087 >   puts "#{customer.name}"
3.0.0 :088 > end
  Customer Load (0.3ms)  SELECT "customers".* FROM "customers" ORDER BY "customers"."id" ASC LIMIT $1  [["LIMIT", 5]]
Jaskaran Singh                                                              
Sam Sharma                                                                  
Customer Name 1                                                             
Customer Name 2                                                             
Customer Name 3                                                             
  Customer Load (0.2ms)  SELECT "customers".* FROM "customers" WHERE "customers"."id" > $1 ORDER BY "customers"."id" ASC LIMIT $2  [["id", 15], ["LIMIT", 5]]
Customer Name 4                                                             
Customer Name 5                                                             
Customer Name 6                                                             
Customer Name 7                                                             
Customer Name 8                                                             
  Customer Load (0.2ms)  SELECT "customers".* FROM "customers" WHERE "customers"."id" > $1 ORDER BY "customers"."id" ASC LIMIT $2  [["id", 20], ["LIMIT", 5]]
Customer Name 9                                                             
Customer Name 10
John Doe
Sam
Uchiha
  Customer Load (0.2ms)  SELECT "customers".* FROM "customers" WHERE "customers"."id" > $1 ORDER BY "customers"."id" ASC LIMIT $2  [["id", 32], ["LIMIT", 5]]
Jas
 => nil 

2.start:
By default, records are fetched in ascending order of the primary key. The :start option allows you to configure the first ID of the sequence whenever the lowest ID is not the one you need.

3.0.0 :098 > Customer.find_each(start:30) do |customer|
3.0.0 :099 >   puts "#{customer.name}"
3.0.0 :100 > end
  Customer Load (0.2ms)  SELECT "customers".* FROM "customers" WHERE "customers"."id" >= $1 ORDER BY "customers"."id" ASC LIMIT $2  [["id", 30], ["LIMIT", 1000]]
Sam
Uchiha
Jas
 => nil 

3.finish - 
3.0.0 :016 > Book.find_each(start:2, finish: 10) do |book|
3.0.0 :017 >   puts "#{book.title}"
3.0.0 :018 > end
  Book Load (0.7ms)  SELECT "books".* FROM "books" WHERE "books"."id" >= $1 AND "books"."id" <= $2 ORDER BY "books"."id" ASC LIMIT $3  [["id", 2], ["id", 10], ["LIMIT", 1000]]                                                       
Rich Dad Poor Dad                                                     
1234                                                                  
3242334                                                               
                                                                      
                                                                      
 => nil   
 
 4.error_on_ignore - 
 Overrides the application config to specify if an error should be raised when an order is present in the relation.
 
Ordering

To retrieve records from the database in a specific order, you can use the order method.
3.0.0 :002 > Book.order(:created_at)
  Book Load (1.5ms)  SELECT "books".* FROM "books" ORDER BY "books"."created_at" ASC                                                                            
 =>                                                                             
[#<Book:0x0000556ac05518a8                                                      
  id: 5,                                                                        
  title: "Rich Dad Poor Dad",                                                   
  total_page: 300,                                                              
  rating: nil,                                                                  
  price: 0.499e3,                                                               
  created_at: Wed, 25 May 2022 18:30:27.231538000 UTC +00:00,                   
  updated_at: Fri, 10 Jun 2022 10:07:59.793704000 UTC +00:00,                   
  date_published: Fri, 08 May 2015,
  publisher_id: 2,
  author_id: nil>,
 #<Book:0x0000556ac05a27d0
  id: 6,
  title: "1234",
  total_page: 238,
  rating: nil,
  price: nil,
  created_at: Fri, 27 May 2022 08:52:13.257238000 UTC +00:00,
  updated_at: Fri, 27 May 2022 08:54:06.162250000 UTC +00:00,
  date_published: nil,
  publisher_id: nil,
  author_id: nil>,
 #<Book:0x0000556ac05a26e0
  id: 7,
  title: "3242334",
  total_page: nil,
  rating: nil,
  price: nil,
  created_at: Fri, 27 May 2022 09:48:18.925743000 UTC +00:00,
  updated_at: Fri, 27 May 2022 09:48:18.925743000 UTC +00:00,
  date_published: nil,
  publisher_id: nil,
  author_id: nil>,
 #<Book:0x0000556ac05a25f0
  id: 8,
  title: nil,
  total_page: nil,
  rating: nil,
  price: nil,
  created_at: Fri, 27 May 2022 16:56:24.649145000 UTC +00:00,
  updated_at: Fri, 27 May 2022 16:56:24.649145000 UTC +00:00,
  date_published: nil,
  publisher_id: nil,
  author_id: nil>,
 #<Book:0x0000556ac05a2500
  id: 9,
  title: "",
  total_page: nil,
  rating: nil,
  price: nil,
  created_at: Fri, 27 May 2022 16:57:48.367344000 UTC +00:00,
  updated_at: Fri, 27 May 2022 16:57:48.367344000 UTC +00:00,
  date_published: nil,
  publisher_id: nil,
  author_id: nil>,
 #<Book:0x0000556ac05a23e8
  id: 12,
  title: "IT",
  total_page: 235,
  rating: 4.5,
  price: 0.5234e3,
  created_at: Fri, 03 Jun 2022 17:35:14.755240000 UTC +00:00,
  updated_at: Fri, 03 Jun 2022 17:35:14.755240000 UTC +00:00,
  date_published: Fri, 22 Jan 1999,
  publisher_id: nil,
  author_id: nil>,
 #<Book:0x0000556ac05a22f8
  id: 14,
  title: "The Shining",
  total_page: 235,
  rating: 4.5,
  price: 0.5234e3,
  created_at: Fri, 03 Jun 2022 17:38:43.865831000 UTC +00:00,
  updated_at: Fri, 03 Jun 2022 17:38:43.865831000 UTC +00:00,
  date_published: Thu, 22 Jun 2000,
  publisher_id: nil,
  author_id: nil>,
 #<Book:0x0000556ac05a2208
  id: 16,
  title: "Harry Potter",
  total_page: 342,
  rating: 4.7,
  price: 0.42e3,
  created_at: Tue, 07 Jun 2022 14:17:24.855374000 UTC +00:00,
  updated_at: Wed, 08 Jun 2022 08:08:28.440667000 UTC +00:00,
  date_published: Sun, 03 Jan 2010,
  publisher_id: nil,
  author_id: 10017>,
 #<Book:0x0000556ac05a20f0
  id: 17,
  title: "Firestarter",
  total_page: 400,
  rating: 3.9,
  price: 0.5005e3,
  created_at: Wed, 08 Jun 2022 08:37:17.462921000 UTC +00:00,
  updated_at: Wed, 08 Jun 2022 08:37:17.462921000 UTC +00:00,
  date_published: Sun, 02 May 1999,
  publisher_id: nil,
  author_id: 10017>] 

  author_id: 10017>] 
3.0.0 :003 > Book.order(created_at: :desc)
  Book Load (0.8ms)  SELECT "books".* FROM "books" ORDER BY "books"."created_at" DESC
 =>                                                                             
[#<Book:0x0000556ac04f8cd0                                                      
  id: 17,                                                                       
  title: "Firestarter",                                                         
  total_page: 400,                                                              
  rating: 3.9,                                                                  
  price: 0.5005e3,                                                              
  created_at: Wed, 08 Jun 2022 08:37:17.462921000 UTC +00:00,                   
  updated_at: Wed, 08 Jun 2022 08:37:17.462921000 UTC +00:00,                   
  date_published: Sun, 02 May 1999,                                             
  publisher_id: nil,                                                            
  author_id: 10017>,                                                            
 #<Book:0x0000556ac04f8c08                                                      
  id: 16,                                                                       
  title: "Harry Potter",
  total_page: 342,
  rating: 4.7,
  price: 0.42e3,
  created_at: Tue, 07 Jun 2022 14:17:24.855374000 UTC +00:00,
  updated_at: Wed, 08 Jun 2022 08:08:28.440667000 UTC +00:00,
  date_published: Sun, 03 Jan 2010,
  publisher_id: nil,
  author_id: 10017>,
 #<Book:0x0000556ac04f8b40
  id: 14,
  title: "The Shining",
  total_page: 235,
  rating: 4.5,
  price: 0.5234e3,
  created_at: Fri, 03 Jun 2022 17:38:43.865831000 UTC +00:00,
  updated_at: Fri, 03 Jun 2022 17:38:43.865831000 UTC +00:00,
  date_published: Thu, 22 Jun 2000,
  publisher_id: nil,
  author_id: nil>,
 #<Book:0x0000556ac04f8a78

Or ordering by multiple fields:
3.0.0 :004 > Book.order(:title, created_at: :desc)
  Book Load (1.4ms)  SELECT "books".* FROM "books" ORDER BY "books"."title" ASC, "books"."created_at" DESC
 =>                                                                                                   
[#<Book:0x0000556ac00ba218                                                                            
  id: 9,                                                                                              
  title: "",                                                                                          
  total_page: nil,                                                                                    
  rating: nil,                                                                                        
  price: nil,                                                                                         
  created_at: Fri, 27 May 2022 16:57:48.367344000 UTC +00:00,                                         
  updated_at: Fri, 27 May 2022 16:57:48.367344000 UTC +00:00,                                         
  date_published: nil,                                                                                
  publisher_id: nil,                                                                                  
  author_id: nil>,                                                                                    
 #<Book:0x0000556ac00ba150                                                                            
  id: 6,                                                                                              
  title: "1234",
  total_page: 238,
  rating: nil,
  price: nil,
  created_at: Fri, 27 May 2022 08:52:13.257238000 UTC +00:00,
  updated_at: Fri, 27 May 2022 08:54:06.162250000 UTC +00:00,
  date_published: nil,
  publisher_id: nil,
  author_id: nil>,
 #<Book:0x0000556ac00ba088
  id: 7,
  title: "3242334",
  total_page: nil,
  rating: nil,
  price: nil,
  created_at: Fri, 27 May 2022 09:48:18.925743000 UTC +00:00,
  updated_at: Fri, 27 May 2022 09:48:18.925743000 UTC +00:00,
  date_published: nil,
  publisher_id: nil,
  author_id: nil>,
 #<Book:0x0000556ac00b9fc0
  id: 17,
  title: "Firestarter",
  total_page: 400,
  rating: 3.9,
  price: 0.5005e3,
  created_at: Wed, 08 Jun 2022 08:37:17.462921000 UTC +00:00,
  updated_at: Wed, 08 Jun 2022 08:37:17.462921000 UTC +00:00,
  date_published: Sun, 02 May 1999,
  publisher_id: nil,
  author_id: 10017>,
 #<Book:0x0000556ac00b9ef8
  id: 16,
  title: "Harry Potter",
  total_page: 342,
  rating: 4.7,
  price: 0.42e3,
  created_at: Tue, 07 Jun 2022 14:17:24.855374000 UTC +00:00,
  updated_at: Wed, 08 Jun 2022 08:08:28.440667000 UTC +00:00,
  date_published: Sun, 03 Jan 2010,
  publisher_id: nil,
  author_id: 10017>,
 #<Book:0x0000556ac00b9e30
  id: 12,
  title: "IT",
  total_page: 235,
  rating: 4.5,
  price: 0.5234e3,
  created_at: Fri, 03 Jun 2022 17:35:14.755240000 UTC +00:00,
  updated_at: Fri, 03 Jun 2022 17:35:14.755240000 UTC +00:00,
  date_published: Fri, 22 Jan 1999,
  publisher_id: nil,
  author_id: nil>,
 #<Book:0x0000556ac00b9d68
  id: 5,
  title: "Rich Dad Poor Dad",
  total_page: 300,
  rating: nil,
  price: 0.499e3,
  created_at: Wed, 25 May 2022 18:30:27.231538000 UTC +00:00,
  updated_at: Fri, 10 Jun 2022 10:07:59.793704000 UTC +00:00,
  date_published: Fri, 08 May 2015,
  publisher_id: 2,
  author_id: nil>,
 #<Book:0x0000556ac00b9ca0
  id: 14,
  title: "The Shining",
  total_page: 235,
  rating: 4.5,
  price: 0.5234e3,
  created_at: Fri, 03 Jun 2022 17:38:43.865831000 UTC +00:00,
  updated_at: Fri, 03 Jun 2022 17:38:43.865831000 UTC +00:00,
  date_published: Thu, 22 Jun 2000,
  publisher_id: nil,
  author_id: nil>,
 #<Book:0x0000556ac00b9bd8
  id: 8,
  title: nil,
  total_page: nil,
  rating: nil,
  price: nil,
  created_at: Fri, 27 May 2022 16:56:24.649145000 UTC +00:00,
  updated_at: Fri, 27 May 2022 16:56:24.649145000 UTC +00:00,
  date_published: nil,
  publisher_id: nil,
  author_id: nil>] 

If you want to call order multiple times, subsequent orders will be appended to the first:
3.0.0 :005 > Book.order("title ASC").order("created_at DESC")
  Book Load (0.8ms)  SELECT "books".* FROM "books" ORDER BY title ASC, created_at DESC
 =>                                                                 
[#<Book:0x0000556ac0252418                                          
  id: 9,                                                            
  title: "",                                                        
  total_page: nil,                                                  
  rating: nil,                                                      
  price: nil,                                                       
  created_at: Fri, 27 May 2022 16:57:48.367344000 UTC +00:00,       
  updated_at: Fri, 27 May 2022 16:57:48.367344000 UTC +00:00,
  date_published: nil,                                      
  publisher_id: nil,                                        
  author_id: nil>,                                          
 #<Book:0x0000556ac0252350                                  
  id: 6,                                                    
  title: "1234",
  total_page: 238,
  rating: nil,
  price: nil,
  created_at: Fri, 27 May 2022 08:52:13.257238000 UTC +00:00,
  updated_at: Fri, 27 May 2022 08:54:06.162250000 UTC +00:00,
  date_published: nil,
  publisher_id: nil,
  author_id: nil>,
 #<Book:0x0000556ac0252288
  id: 7,
  title: "3242334",
  total_page: nil,
  rating: nil,
  price: nil,
  created_at: Fri, 27 May 2022 09:48:18.925743000 UTC +00:00,
  updated_at: Fri, 27 May 2022 09:48:18.925743000 UTC +00:00,
  date_published: nil,
  publisher_id: nil,
  author_id: nil>,
 #<Book:0x0000556ac02521c0
  id: 17,
  title: "Firestarter",
  total_page: 400,
  rating: 3.9,
  price: 0.5005e3,
  created_at: Wed, 08 Jun 2022 08:37:17.462921000 UTC +00:00,
  updated_at: Wed, 08 Jun 2022 08:37:17.462921000 UTC +00:00,
  date_published: Sun, 02 May 1999,
  publisher_id: nil,
  author_id: 10017>,
 #<Book:0x0000556ac02520f8
  id: 16,
  title: "Harry Potter",
  total_page: 342,
  rating: 4.7,
  price: 0.42e3,
  created_at: Tue, 07 Jun 2022 14:17:24.855374000 UTC +00:00,
  updated_at: Wed, 08 Jun 2022 08:08:28.440667000 UTC +00:00,
  date_published: Sun, 03 Jan 2010,
  publisher_id: nil,
  author_id: 10017>,
 #<Book:0x0000556ac0252030
  id: 12,
  title: "IT",
  total_page: 235,
  rating: 4.5,
  price: 0.5234e3,
  created_at: Fri, 03 Jun 2022 17:35:14.755240000 UTC +00:00,
  updated_at: Fri, 03 Jun 2022 17:35:14.755240000 UTC +00:00,
  date_published: Fri, 22 Jan 1999,
  publisher_id: nil,
  author_id: nil>,
 #<Book:0x0000556ac0251f68
  id: 5,
  title: "Rich Dad Poor Dad",
  total_page: 300,
  rating: nil,
  price: 0.499e3,
  created_at: Wed, 25 May 2022 18:30:27.231538000 UTC +00:00,
  updated_at: Fri, 10 Jun 2022 10:07:59.793704000 UTC +00:00,
  date_published: Fri, 08 May 2015,
  publisher_id: 2,
  author_id: nil>,
 #<Book:0x0000556ac0251ea0
  id: 14,
  title: "The Shining",
  total_page: 235,
  rating: 4.5,
  price: 0.5234e3,
  created_at: Fri, 03 Jun 2022 17:38:43.865831000 UTC +00:00,
  updated_at: Fri, 03 Jun 2022 17:38:43.865831000 UTC +00:00,
  date_published: Thu, 22 Jun 2000,
  publisher_id: nil,
  author_id: nil>.
  
Selecting Specific Fields-
3.0.0 :010 > Book.select(:title, :author_id)
  Book Load (0.7ms)  SELECT "books"."title", "books"."author_id" FROM "books"
 => 
[#<Book:0x0000556ac02bb530 id: nil, title: "1234", author_id: nil>,
 #<Book:0x0000556ac02bb2d8 id: nil, title: "3242334", author_id: nil>,
 #<Book:0x0000556ac02bb0a8 id: nil, title: nil, author_id: nil>,
 #<Book:0x0000556ac02bae50 id: nil, title: "", author_id: nil>,
 #<Book:0x0000556ac02bad38 id: nil, title: "IT", author_id: nil>,
 #<Book:0x0000556ac02bac70 id: nil, title: "The Shining", author_id: nil>,
 #<Book:0x0000556ac02baa40 id: nil, title: "Harry Potter", author_id: 10017>,
 #<Book:0x0000556ac02ba978 id: nil, title: "Firestarter", author_id: 10017>,
 #<Book:0x0000556ac02ba8b0 id: nil, title: "Rich Dad Poor Dad", author_id: nil>] 


3.0.0 :104 > Customer.select(:name).distinct
  Customer Load (0.8ms)  SELECT DISTINCT "customers"."name" FROM "customers"
 =>                                                                                    
[#<Customer:0x0000562505a31b70 id: nil, name: "Customer Name 3">,                      
 #<Customer:0x0000562505a31a58 id: nil, name: "Jaskaran Singh">,                       
 #<Customer:0x0000562505a31968 id: nil, name: "Customer Name 1">,                      
 #<Customer:0x0000562505a31878 id: nil, name: "Jas">,                                  
 #<Customer:0x0000562505a31788 id: nil, name: "Customer Name 6">,                      
 #<Customer:0x0000562505a31670 id: nil, name: "Uchiha">,                               
 #<Customer:0x0000562505a31558 id: nil, name: "Customer Name 8">,                      
 #<Customer:0x0000562505a31468 id: nil, name: "Sam Sharma">,                           
 #<Customer:0x0000562505a31378 id: nil, name: "Customer Name 7">,                      
 #<Customer:0x0000562505a31260 id: nil, name: "Customer Name 2">,                      
 #<Customer:0x0000562505a31170 id: nil, name: "Customer Name 5">,                      
 #<Customer:0x0000562505a31080 id: nil, name: "John Doe">,                             
 #<Customer:0x0000562505a30f90 id: nil, name: "Sam">,                                  
 #<Customer:0x0000562505a30e78 id: nil, name: "Customer Name 9">,
 #<Customer:0x0000562505a30d88 id: nil, name: "Customer Name 10">,
 #<Customer:0x0000562505a30c98 id: nil, name: "Customer Name 4">] 


3.0.0 :106 > query.distinct(false)
  Customer Load (0.7ms)  SELECT "customers"."name" FROM "customers"
 =>                                                  
[#<Customer:0x0000562505b395b8 id: nil, name: "Jaskaran Singh">,
 #<Customer:0x0000562505b394f0 id: nil, name: "Sam Sharma">,
 #<Customer:0x0000562505b39428 id: nil, name: "Customer Name 1">,
 #<Customer:0x0000562505b39360 id: nil, name: "Customer Name 2">,
 #<Customer:0x0000562505b39298 id: nil, name: "Customer Name 3">,
 #<Customer:0x0000562505b391d0 id: nil, name: "Customer Name 4">,
 #<Customer:0x0000562505b39108 id: nil, name: "Customer Name 5">,
 #<Customer:0x0000562505b39040 id: nil, name: "Customer Name 6">,
 #<Customer:0x0000562505b38f78 id: nil, name: "Customer Name 7">,
 #<Customer:0x0000562505b38eb0 id: nil, name: "Customer Name 8">,
 #<Customer:0x0000562505b38de8 id: nil, name: "Customer Name 9">,
 #<Customer:0x0000562505b38d20 id: nil, name: "Customer Name 10">,
 #<Customer:0x0000562505b38c58 id: nil, name: "John Doe">,
 #<Customer:0x0000562505b38b90 id: nil, name: "Sam">,
 #<Customer:0x0000562505b38ac8 id: nil, name: "Uchiha">,
 #<Customer:0x0000562505b38a00 id: nil, name: "Jas">]
 
 Limit and Offset- 
 3.0.0 :107 > Customer.limit(3)
[#<Customer:0x0000562505dc0bb0                    
  id: 1,                                          
  name: "Jaskaran Singh",                         
  address: "#Sector 20-A Chandigarh",             
  gender: "Male",                                 
  mobile: "9876573100",                           
  check_in: Sun, 01 May 2022,                     
  check_out: Tue, 10 May 2022,                    
  created_at: Mon, 23 May 2022 10:03:11.423908000 UTC +00:00,
  updated_at: Mon, 23 May 2022 10:05:42.660282000 UTC +00:00,
  country: "India",                               
  email: nil>,                                    
 #<Customer:0x0000562505dc0ae8                    
  id: 2,
  name: "Sam Sharma",
  address: "Sector 30,Mumbai",
  gender: "Male",
  mobile: "21313241",
  check_in: Wed, 11 May 2022,
  check_out: Sun, 22 May 2022,
  created_at: Tue, 24 May 2022 12:49:28.509835000 UTC +00:00,
  updated_at: Tue, 24 May 2022 12:49:28.509835000 UTC +00:00,
  country: "India",
  email: nil>] 

OFFSET is used to skip the number of records from the results.
3.0.0 :135 > Customer.limit(5).offset(3)
  Customer Load (0.7ms)  SELECT "customers".* FROM "customers" LIMIT $1 OFFSET $2  [["LIMIT", 5], ["OFFSET", 3]]
 => 
[#<Customer:0x0000562504fca0d8
  id: 15,
  name: "Customer Name 3",
  address: nil,
  gender: nil,
  mobile: nil,
  check_in: nil,
  check_out: nil,
  created_at: Tue, 24 May 2022 17:16:06.129388000 UTC +00:00,
  updated_at: Tue, 24 May 2022 17:16:06.129388000 UTC +00:00,
  country: nil,
  email: nil>,
 #<Customer:0x0000562504fc9f70
  id: 16,
  name: "Customer Name 4",
  address: nil,
  gender: nil,
  mobile: nil,
  check_in: nil,
  check_out: nil,
  created_at: Tue, 24 May 2022 17:16:06.130147000 UTC +00:00,
  updated_at: Tue, 24 May 2022 17:16:06.130147000 UTC +00:00,
  country: nil,
  email: nil>,
 #<Customer:0x0000562504fc9e08
  id: 17,
  name: "Customer Name 5",
  address: nil,
  gender: nil,
  mobile: nil,
  check_in: nil,
  check_out: nil,
  created_at: Tue, 24 May 2022 17:16:06.130879000 UTC +00:00,
  updated_at: Tue, 24 May 2022 17:16:06.130879000 UTC +00:00,
  country: nil,
  email: nil>,
 #<Customer:0x0000562504fc9ca0
  id: 18,
  name: "Customer Name 6",
  address: nil,
  gender: nil,
  mobile: nil,
  check_in: nil,
  check_out: nil,
  created_at: Tue, 24 May 2022 17:16:06.132452000 UTC +00:00,
  updated_at: Tue, 24 May 2022 17:16:06.132452000 UTC +00:00,
  country: nil,
  email: nil>,
 #<Customer:0x0000562504fc9ae8
  id: 19,
  name: "Customer Name 7",
  address: nil,
  gender: nil,
  mobile: nil,
  check_in: nil,
  check_out: nil,
  created_at: Tue, 24 May 2022 17:16:06.133470000 UTC +00:00,
  updated_at: Tue, 24 May 2022 17:16:06.133470000 UTC +00:00,
  country: nil,
  email: nil>] 
3.0.0 :136 > 

3.0.0 :019 > Book.select(:created_at).group(:created_at)
  Book Load (0.9ms)  SELECT "books"."created_at" FROM "books" GROUP BY "books"."created_at"
 =>                                                                                                   
[#<Book:0x0000556ac00e39d8 id: nil, created_at: Fri, 03 Jun 2022 17:38:43.865831000 UTC +00:00>,      
 #<Book:0x0000556ac00e3910 id: nil, created_at: Fri, 27 May 2022 16:57:48.367344000 UTC +00:00>,      
 #<Book:0x0000556ac00e3848 id: nil, created_at: Tue, 07 Jun 2022 14:17:24.855374000 UTC +00:00>,      
 #<Book:0x0000556ac00e3780 id: nil, created_at: Fri, 03 Jun 2022 17:35:14.755240000 UTC +00:00>,      
 #<Book:0x0000556ac00e36b8 id: nil, created_at: Fri, 27 May 2022 16:56:24.649145000 UTC +00:00>,      
 #<Book:0x0000556ac00e35f0 id: nil, created_at: Wed, 25 May 2022 18:30:27.231538000 UTC +00:00>,      
 #<Book:0x0000556ac00e3528 id: nil, created_at: Wed, 08 Jun 2022 08:37:17.462921000 UTC +00:00>,      
 #<Book:0x0000556ac00e3460 id: nil, created_at: Fri, 27 May 2022 09:48:18.925743000 UTC +00:00>,      
 #<Book:0x0000556ac00e3398 id: nil, created_at: Fri, 27 May 2022 08:52:13.257238000 UTC +00:00>]      
3.0.0 :020 > 
3.0.0 :140 > Customer.select(:name).group(:name).count
  Customer Count (0.5ms)  SELECT COUNT("customers"."name") AS "count_name", "customers"."name" AS "customers_name" FROM "customers" GROUP BY "customers"."name"
 =>                                                                                                 
{"Jas"=>1,                                                                                          
 "Customer Name 6"=>1,                                                                              
 "Uchiha"=>1,                                                                                       
 "Customer Name 8"=>1,                                                                              
 "Sam Sharma"=>1,                                                                                   
 "Customer Name 7"=>1,                                                                              
 "Customer Name 2"=>1,                                                                              
 "Customer Name 5"=>1,                                                                              
 "John Doe"=>1,                                                                                     
 "Sam"=>1,                                                                                          
 "Henry Cavill"=>1,                                                                                 
 "Customer Name 9"=>1,                                                                              
 "Customer Name 10"=>1,                                                                             
 "Customer Name 4"=>1,
 "Customer Name 3"=>1,
 "Jaskaran Singh"=>1} 
3.0.0 :141 > Customer.select(:name).count
  Customer Count (0.7ms)  SELECT COUNT("customers"."name") FROM "customers"
 => 16       
 
 Having
SQL uses the HAVING clause to specify conditions on the GROUP BY fields. You can add the HAVING clause to the SQL fired by the Model.find by adding the having method to the find.
3.0.0 :034 > Book.select("price").group("price").having("sum(price) > ? ", 200)
  Book Load (1.0ms)  SELECT "books"."price" FROM "books" GROUP BY "books"."price" HAVING (sum(price) > 200 )
 =>                                                                                          
[#<Book:0x0000556ac3e5a320 id: nil, price: 0.5234e3>,                                        
 #<Book:0x0000556ac3e5a258 id: nil, price: 0.5005e3>,                                        
 #<Book:0x0000556ac3e5a190 id: nil, price: 0.499e3>,                                         
 #<Book:0x0000556ac3e5a0c8 id: nil, price: 0.42e3>]                                          
3.0.0 :035 > 
                                                                                             
Overriding Conditions-
1 unscope-
3.0.0 :037 > Book.where('id>5').limit(5).order('id desc').unscope(:order)
  Book Load (0.5ms)  SELECT "books".* FROM "books" WHERE (id>5) LIMIT $1  [["LIMIT", 5]]
 => 
[#<Book:0x0000556ac4292ac8
  id: 6,
  title: "1234",
  total_page: 238,
  rating: nil,
  price: nil,
  created_at: Fri, 27 May 2022 08:52:13.257238000 UTC +00:00,
  updated_at: Fri, 27 May 2022 08:54:06.162250000 UTC +00:00,
  date_published: nil,
  publisher_id: nil,
  author_id: nil>,
 #<Book:0x0000556ac4292a00
  id: 7,
  title: "3242334",
  total_page: nil,
  rating: nil,
  price: nil,
  created_at: Fri, 27 May 2022 09:48:18.925743000 UTC +00:00,
  updated_at: Fri, 27 May 2022 09:48:18.925743000 UTC +00:00,
  date_published: nil,
  publisher_id: nil,
  author_id: nil>,
 #<Book:0x0000556ac4292938
  id: 8,
  title: nil,
  total_page: nil,
  rating: nil,
  price: nil,
  created_at: Fri, 27 May 2022 16:56:24.649145000 UTC +00:00,
  updated_at: Fri, 27 May 2022 16:56:24.649145000 UTC +00:00,
  date_published: nil,
  publisher_id: nil,
  author_id: nil>,
 #<Book:0x0000556ac4292870
  id: 9,
  title: "",
  total_page: nil,
  rating: nil,
  price: nil,
  created_at: Fri, 27 May 2022 16:57:48.367344000 UTC +00:00,
  updated_at: Fri, 27 May 2022 16:57:48.367344000 UTC +00:00,
  date_published: nil,
  publisher_id: nil,
  author_id: nil>,
 #<Book:0x0000556ac42927a8
  id: 12,
  title: "IT",
  total_page: 235,
  rating: 4.5,
  price: 0.5234e3,
  created_at: Fri, 03 Jun 2022 17:35:14.755240000 UTC +00:00,
  updated_at: Fri, 03 Jun 2022 17:35:14.755240000 UTC +00:00,
  date_published: Fri, 22 Jan 1999,
  publisher_id: nil,
  author_id: nil>] 

3.0.0 :038 > Book.order('id desc').merge(Book.unscope(:order))
  Book Load (0.3ms)  SELECT "books".* FROM "books"
 =>                                                                                                             
[#<Book:0x0000556ac1a836e0                                                                                      
  id: 6,                                                                                                        
  title: "1234",                                                                                                
  total_page: 238,                                                                                              
  rating: nil,                                                                                                  
  price: nil,                                                                                                   
  created_at: Fri, 27 May 2022 08:52:13.257238000 UTC +00:00,                                                   
  updated_at: Fri, 27 May 2022 08:54:06.162250000 UTC +00:00,                                                   
  date_published: nil,                                                                                          
  publisher_id: nil,                                                                                            
  author_id: nil>,                                                                                              
 #<Book:0x0000556ac1a835c8                                                                                      
  id: 7,                                                                                                        
  title: "3242334",
  total_page: nil,
  rating: nil,
  price: nil,
  created_at: Fri, 27 May 2022 09:48:18.925743000 UTC +00:00,
  updated_at: Fri, 27 May 2022 09:48:18.925743000 UTC +00:00,
  date_published: nil,
  publisher_id: nil,
  author_id: nil>,
 #<Book:0x0000556ac1a83168
  id: 8,
  title: nil,
  total_page: nil,
  rating: nil,
  price: nil,
  created_at: Fri, 27 May 2022 16:56:24.649145000 UTC +00:00,
  updated_at: Fri, 27 May 2022 16:56:24.649145000 UTC +00:00,
  date_published: nil,
  publisher_id: nil,
  author_id: nil>,
 #<Book:0x0000556ac1a82da8
  id: 9,
  title: "",
  total_page: nil,
  rating: nil,
  price: nil,
  created_at: Fri, 27 May 2022 16:57:48.367344000 UTC +00:00,
  updated_at: Fri, 27 May 2022 16:57:48.367344000 UTC +00:00,
  date_published: nil,
  publisher_id: nil,
  author_id: nil>,
 #<Book:0x0000556ac1a82b78
  id: 12,
  title: "IT",
  total_page: 235,
  rating: 4.5,
  price: 0.5234e3,
  created_at: Fri, 03 Jun 2022 17:35:14.755240000 UTC +00:00,
  updated_at: Fri, 03 Jun 2022 17:35:14.755240000 UTC +00:00,
  date_published: Fri, 22 Jan 1999,
  publisher_id: nil,
  author_id: nil>,
 #<Book:0x0000556ac1a828a8
  id: 14,
  title: "The Shining",
  total_page: 235,
  rating: 4.5,
  price: 0.5234e3,
  created_at: Fri, 03 Jun 2022 17:38:43.865831000 UTC +00:00,
  updated_at: Fri, 03 Jun 2022 17:38:43.865831000 UTC +00:00,
  date_published: Thu, 22 Jun 2000,
  publisher_id: nil,
  author_id: nil>,
 #<Book:0x0000556ac1a82718
  id: 16,
  title: "Harry Potter",
  total_page: 342,
  rating: 4.7,
  price: 0.42e3,
  created_at: Tue, 07 Jun 2022 14:17:24.855374000 UTC +00:00,
  updated_at: Wed, 08 Jun 2022 08:08:28.440667000 UTC +00:00,
  date_published: Sun, 03 Jan 2010,
  publisher_id: nil,
  author_id: 10017>,
 #<Book:0x0000556ac1a82628
  id: 17,
  title: "Firestarter",
  total_page: 400,
  rating: 3.9,
  price: 0.5005e3,
  created_at: Wed, 08 Jun 2022 08:37:17.462921000 UTC +00:00,
  updated_at: Wed, 08 Jun 2022 08:37:17.462921000 UTC +00:00,
  date_published: Sun, 02 May 1999,
  publisher_id: nil,
  author_id: 10017>,
 #<Book:0x0000556ac1a823d0
  id: 5,
  title: "Rich Dad Poor Dad",
  total_page: 300,
  rating: nil,
  price: 0.499e3,
  created_at: Wed, 25 May 2022 18:30:27.231538000 UTC +00:00,
  updated_at: Fri, 10 Jun 2022 10:07:59.793704000 UTC +00:00,
  date_published: Fri, 08 May 2015,
  publisher_id: 2,
  author_id: nil>] 

only - 
3.0.0 :039 > Book.where('id>5').limit(10).order('id desc').only(:order)
  Book Load (0.5ms)  SELECT "books".* FROM "books" ORDER BY id desc
 =>                                                                                                                       
[#<Book:0x0000556ac3a6a9e0                                                                                                
  id: 17,                                                                                                                 
  title: "Firestarter",                                                                                                   
  total_page: 400,                                                                                                        
  rating: 3.9,                                                                                                            
  price: 0.5005e3,                                                                                                        
  created_at: Wed, 08 Jun 2022 08:37:17.462921000 UTC +00:00,                                                             
  updated_at: Wed, 08 Jun 2022 08:37:17.462921000 UTC +00:00,                                                             
  date_published: Sun, 02 May 1999,                                                                                       
  publisher_id: nil,                                                                                                      
  author_id: 10017>,                                                                                                      
 #<Book:0x0000556ac3a6a918                                                                                                
  id: 16,                                                                                                                 
  title: "Harry Potter",
  total_page: 342,
  rating: 4.7,
  price: 0.42e3,
  created_at: Tue, 07 Jun 2022 14:17:24.855374000 UTC +00:00,
  updated_at: Wed, 08 Jun 2022 08:08:28.440667000 UTC +00:00,
  date_published: Sun, 03 Jan 2010,
  publisher_id: nil,
  author_id: 10017>,
 #<Book:0x0000556ac3a6a850
  id: 14,
  title: "The Shining",
  total_page: 235,
  rating: 4.5,
  price: 0.5234e3,
  created_at: Fri, 03 Jun 2022 17:38:43.865831000 UTC +00:00,
  updated_at: Fri, 03 Jun 2022 17:38:43.865831000 UTC +00:00,
  date_published: Thu, 22 Jun 2000,
  publisher_id: nil,
  author_id: nil>,
 #<Book:0x0000556ac3a6a788
  id: 12,
  title: "IT",
  total_page: 235,
  rating: 4.5,
  price: 0.5234e3,
  created_at: Fri, 03 Jun 2022 17:35:14.755240000 UTC +00:00,
  updated_at: Fri, 03 Jun 2022 17:35:14.755240000 UTC +00:00,
  date_published: Fri, 22 Jan 1999,
  publisher_id: nil,
  author_id: nil>,
 #<Book:0x0000556ac3a6a6c0
  id: 9,
  title: "",
  total_page: nil,
  rating: nil,
  price: nil,
  created_at: Fri, 27 May 2022 16:57:48.367344000 UTC +00:00,
  updated_at: Fri, 27 May 2022 16:57:48.367344000 UTC +00:00,
  date_published: nil,
  publisher_id: nil,
  author_id: nil>,
 #<Book:0x0000556ac3a6a5f8
  id: 8,
  title: nil,
  total_page: nil,
  rating: nil,
  price: nil,
  created_at: Fri, 27 May 2022 16:56:24.649145000 UTC +00:00,
  updated_at: Fri, 27 May 2022 16:56:24.649145000 UTC +00:00,
  date_published: nil,
  publisher_id: nil,
  author_id: nil>,
 #<Book:0x0000556ac3a6a530
  id: 7,
  title: "3242334",
  total_page: nil,
  rating: nil,
  price: nil,
  created_at: Fri, 27 May 2022 09:48:18.925743000 UTC +00:00,
  updated_at: Fri, 27 May 2022 09:48:18.925743000 UTC +00:00,
  date_published: nil,
  publisher_id: nil,
  author_id: nil>,
 #<Book:0x0000556ac3a6a468
  id: 6,
  title: "1234",
  total_page: 238,
  rating: nil,
  price: nil,
  created_at: Fri, 27 May 2022 08:52:13.257238000 UTC +00:00,
  updated_at: Fri, 27 May 2022 08:54:06.162250000 UTC +00:00,
  date_published: nil,
  publisher_id: nil,
  author_id: nil>,
 #<Book:0x0000556ac3a6a3a0
  id: 5,
  title: "Rich Dad Poor Dad",
  total_page: 300,
  rating: nil,
  price: 0.499e3,
  created_at: Wed, 25 May 2022 18:30:27.231538000 UTC +00:00,
  updated_at: Fri, 10 Jun 2022 10:07:59.793704000 UTC +00:00,
  date_published: Fri, 08 May 2015,
  publisher_id: 2,
  author_id: nil>] 

3.reselect-
3.0.0 :040 > Book.select(:title).reselect(:rating)
  Book Load (0.7ms)  SELECT "books"."rating" FROM "books"
 =>                                                                                                 
[#<Book:0x0000556ac19da6a8 id: nil, rating: nil>,                                                   
 #<Book:0x0000556ac19da5e0 id: nil, rating: nil>,                                                   
 #<Book:0x0000556ac19da518 id: nil, rating: nil>,                                                   
 #<Book:0x0000556ac19da450 id: nil, rating: nil>,                                                   
 #<Book:0x0000556ac19da388 id: nil, rating: 4.5>,                                                   
 #<Book:0x0000556ac19da2c0 id: nil, rating: 4.5>,                                                   
 #<Book:0x0000556ac19da1f8 id: nil, rating: 4.7>,                                                   
 #<Book:0x0000556ac19da130 id: nil, rating: 3.9>,                                                   
 #<Book:0x0000556ac19da068 id: nil, rating: nil>]      
 
 4 reorder-
 3.0.0 :023 > Book.order('title desc').reorder('title asc')
  Book Load (0.6ms)  SELECT "books".* FROM "books" ORDER BY title asc
 =>                                                                                            
[#<Book:0x000056366e62fa98                                                                     
  id: 9,                                                                                       
  title: "",                                                                                   
  total_page: nil,                                                                             
  rating: nil,                                                                                 
  price: nil,                                                                                  
  created_at: Fri, 27 May 2022 16:57:48.367344000 UTC +00:00,                                  
  updated_at: Fri, 27 May 2022 16:57:48.367344000 UTC +00:00,                                  
  date_published: nil,                                                                         
  publisher_id: nil,                                                                           
  author_id: nil>,                                                                             
 #<Book:0x000056366e62f9d0                                                                     
  id: 6,                                                                                       
  title: "1234",
  total_page: 238,
  rating: nil,
  price: nil,
  created_at: Fri, 27 May 2022 08:52:13.257238000 UTC +00:00,
  updated_at: Fri, 27 May 2022 08:54:06.162250000 UTC +00:00,
  date_published: nil,
  publisher_id: nil,
  author_id: nil>,
 #<Book:0x000056366e62f908
  id: 7,
  title: "3242334",
  total_page: nil,
  rating: nil,
  price: nil,
  created_at: Fri, 27 May 2022 09:48:18.925743000 UTC +00:00,
  updated_at: Fri, 27 May 2022 09:48:18.925743000 UTC +00:00,
  date_published: nil,
  publisher_id: nil,
  author_id: nil>,
 #<Book:0x000056366e62f818
  id: 17,
  title: "Firestarter",
  total_page: 400,
  rating: 3.9,
  price: 0.5005e3,
  created_at: Wed, 08 Jun 2022 08:37:17.462921000 UTC +00:00,
  updated_at: Wed, 08 Jun 2022 08:37:17.462921000 UTC +00:00,
  date_published: Sun, 02 May 1999,
  publisher_id: nil,
  author_id: 10017>,
 #<Book:0x000056366e62f750
  id: 16,
  title: "Harry Potter",
  total_page: 342,
  rating: 4.7,
  price: 0.42e3,
  created_at: Tue, 07 Jun 2022 14:17:24.855374000 UTC +00:00,
  updated_at: Wed, 08 Jun 2022 08:08:28.440667000 UTC +00:00,
  date_published: Sun, 03 Jan 2010,
  publisher_id: nil,
  author_id: 10017>,
 #<Book:0x000056366e62f688
  id: 12,
  title: "IT",
  total_page: 235,
  rating: 4.5,
  price: 0.5234e3,
  created_at: Fri, 03 Jun 2022 17:35:14.755240000 UTC +00:00,
  updated_at: Fri, 03 Jun 2022 17:35:14.755240000 UTC +00:00,
  date_published: Fri, 22 Jan 1999,
  publisher_id: nil,
  author_id: nil>,
 #<Book:0x000056366e62f5c0
  id: 5,
  title: "Rich Dad Poor Dad",
  total_page: 300,
  rating: nil,
  price: 0.499e3,
  created_at: Wed, 25 May 2022 18:30:27.231538000 UTC +00:00,
  updated_at: Fri, 10 Jun 2022 10:07:59.793704000 UTC +00:00,
  date_published: Fri, 08 May 2015,
  publisher_id: 2,
  author_id: nil>,
 #<Book:0x000056366e62f4f8
  id: 14,
  title: "The Shining",
  total_page: 235,
  rating: 4.5,
  price: 0.5234e3,
  created_at: Fri, 03 Jun 2022 17:38:43.865831000 UTC +00:00,
  updated_at: Fri, 10 Jun 2022 12:51:07.633126000 UTC +00:00,
  date_published: Thu, 22 Jun 2000,
  publisher_id: nil,
  author_id: 10017>,
 #<Book:0x000056366e62f430
  id: 8,
  title: nil,
  total_page: nil,
  rating: nil,
  price: nil,
  created_at: Fri, 27 May 2022 16:56:24.649145000 UTC +00:00,
  updated_at: Fri, 27 May 2022 16:56:24.649145000 UTC +00:00,
  date_published: nil,
  publisher_id: nil,
  author_id: nil>] 

5 reverse_order
The reverse_order method reverses the ordering clause if specified. 

3.0.0 :024 > Book.where('id > 5').reverse_order
  Book Load (1.3ms)  SELECT "books".* FROM "books" WHERE (id > 5) ORDER BY "books"."id" DESC
 =>                                                                                        
[#<Book:0x00007f6b20729240                                                                 
  id: 17,                                                                                  
  title: "Firestarter",                                                                    
  total_page: 400,                                                                         
  rating: 3.9,                                                                             
  price: 0.5005e3,                                                                         
  created_at: Wed, 08 Jun 2022 08:37:17.462921000 UTC +00:00,                              
  updated_at: Wed, 08 Jun 2022 08:37:17.462921000 UTC +00:00,                              
  date_published: Sun, 02 May 1999,                                                        
  publisher_id: nil,                                                                       
  author_id: 10017>,                                                                       
 #<Book:0x00007f6b20729178                                                                 
  id: 16,                                                                                  
  title: "Harry Potter",
  total_page: 342,
  rating: 4.7,
  price: 0.42e3,
  created_at: Tue, 07 Jun 2022 14:17:24.855374000 UTC +00:00,
  updated_at: Wed, 08 Jun 2022 08:08:28.440667000 UTC +00:00,
  date_published: Sun, 03 Jan 2010,
  publisher_id: nil,
  author_id: 10017>,
 #<Book:0x00007f6b20729060
  id: 14,
  title: "The Shining",
  total_page: 235,
  rating: 4.5,
  price: 0.5234e3,
  created_at: Fri, 03 Jun 2022 17:38:43.865831000 UTC +00:00,
  updated_at: Fri, 10 Jun 2022 12:51:07.633126000 UTC +00:00,
  date_published: Thu, 22 Jun 2000,
  publisher_id: nil,
  author_id: 10017>,
 #<Book:0x00007f6b20728f48
  id: 12,
  title: "IT",
  total_page: 235,
  rating: 4.5,
  price: 0.5234e3,
  created_at: Fri, 03 Jun 2022 17:35:14.755240000 UTC +00:00,
  updated_at: Fri, 03 Jun 2022 17:35:14.755240000 UTC +00:00,
  date_published: Fri, 22 Jan 1999,
  publisher_id: nil,
  author_id: nil>,
 #<Book:0x00007f6b20728e08
  id: 9,
  title: "",
  total_page: nil,
  rating: nil,
  price: nil,
  created_at: Fri, 27 May 2022 16:57:48.367344000 UTC +00:00,
  updated_at: Fri, 27 May 2022 16:57:48.367344000 UTC +00:00,
  date_published: nil,
  publisher_id: nil,
  author_id: nil>,
 #<Book:0x00007f6b20728cf0
  id: 8,
  title: nil,
  total_page: nil,
  rating: nil,
  price: nil,
  created_at: Fri, 27 May 2022 16:56:24.649145000 UTC +00:00,
  updated_at: Fri, 27 May 2022 16:56:24.649145000 UTC +00:00,
  date_published: nil,
  publisher_id: nil,
  author_id: nil>,
 #<Book:0x00007f6b20728c00
  id: 7,
  title: "3242334",
  total_page: nil,
  rating: nil,
  price: nil,
  created_at: Fri, 27 May 2022 09:48:18.925743000 UTC +00:00,
  updated_at: Fri, 27 May 2022 09:48:18.925743000 UTC +00:00,
  date_published: nil,
  publisher_id: nil,
  author_id: nil>,
 #<Book:0x00007f6b20728a98
  id: 6,
  title: "1234",
  total_page: 238,
  rating: nil,
  price: nil,
  created_at: Fri, 27 May 2022 08:52:13.257238000 UTC +00:00,
  updated_at: Fri, 27 May 2022 08:54:06.162250000 UTC +00:00,
  date_published: nil,
  publisher_id: nil,
  author_id: nil>] 

6 rewhere
The rewhere method overrides an existing, named where condition.     
3.0.0 :027 > Book.where(price: 1000).rewhere(price: nil)
  Book Load (0.8ms)  SELECT "books".* FROM "books" WHERE "books"."price" IS NULL
 =>                                                                                           
[#<Book:0x000056366e36df58                                                                    
  id: 6,                                                                                      
  title: "1234",                                                                              
  total_page: 238,                                                                            
  rating: nil,                                                                                
  price: nil,                                                                                 
  created_at: Fri, 27 May 2022 08:52:13.257238000 UTC +00:00,                            
  updated_at: Fri, 27 May 2022 08:54:06.162250000 UTC +00:00,                            
  date_published: nil,                                                                   
  publisher_id: nil,                                                                     
  author_id: nil>,                                                                       
 #<Book:0x000056366e36de90                                                               
  id: 7,                                                                                 
  title: "3242334",
  total_page: nil,
  rating: nil,
  price: nil,
  created_at: Fri, 27 May 2022 09:48:18.925743000 UTC +00:00,
  updated_at: Fri, 27 May 2022 09:48:18.925743000 UTC +00:00,
  date_published: nil,
  publisher_id: nil,
  author_id: nil>,
 #<Book:0x000056366e36ddc8
  id: 8,
  title: nil,
  total_page: nil,
  rating: nil,
  price: nil,
  created_at: Fri, 27 May 2022 16:56:24.649145000 UTC +00:00,
  updated_at: Fri, 27 May 2022 16:56:24.649145000 UTC +00:00,
  date_published: nil,
  publisher_id: nil,
  author_id: nil>,
 #<Book:0x000056366e36dd00
  id: 9,
  title: "",
  total_page: nil,
  rating: nil,
  price: nil,
  created_at: Fri, 27 May 2022 16:57:48.367344000 UTC +00:00,
  updated_at: Fri, 27 May 2022 16:57:48.367344000 UTC +00:00,
  date_published: nil,
  publisher_id: nil,
  author_id: nil>] 

Calculations

This section uses count as an example method in this preamble, but the options described apply to all sub-sections.
1.count - 
3.0.0 :004 > Author.count
  Author Count (12.8ms)  SELECT COUNT(*) FROM "authors"
 => 10016     
 
 2.3.0.0 :005 > Author.where(name: "David Goggins").count
  Author Count (0.7ms)  SELECT COUNT(*) FROM "authors" WHERE "authors"."name" = $1  [["name", "David Goggins"]]                                              
 => 1     
 
2 Average - 
3.0.0 :006 > Book.average("rating")
  Book Average (8.0ms)  SELECT AVG("books"."rating") FROM "books"
 => 4.4 
 
 3.Minimum - 
 3.0.0 :007 > Book.minimum("rating")
  Book Minimum (0.8ms)  SELECT MIN("books"."rating") FROM "books"
 => 3.9   
 
 4.maximum -
 3.0.0 :001 > Book.maximum("price")
  Book Maximum (0.5ms)  SELECT MAX("books"."price") FROM "books"
 => 523                                                     
3.0.0 :0

5.3.0.0 :002 > Book.sum("price")
  Book Sum (0.8ms)  SELECT SUM("books"."price") FROM "books"
 => 2466 
 
Existence of Objects-
If you simply want to check for the existence of the object there's a method called exists?. This method will query the database using the same query as find, but instead of returning an object or collection of objects it will return either true or false.

1.3.0.0 :003 > Author.exists?(10017)
  Author Exists? (2.0ms)  SELECT 1 AS one FROM "authors" WHERE "authors"."id" = $1 LIMIT $2  [["id", 10017], ["LIMIT", 1]]                    
 => true 
 
 3.0.0 :005 > Author.exists?(id: [1,2,3])
  Author Exists? (1.0ms)  SELECT 1 AS one FROM "authors" WHERE "authors"."id" IN ($1, $2, $3) LIMIT $4  [["id", 1], ["id", 2], ["id", 3], ["LIMIT", 1]]         
 => true 
 
 3.0.0 :006 > Author.where(name: "Stephen KIng").exists?
  Author Exists? (1.2ms)  SELECT 1 AS one FROM "authors" WHERE "authors"."name" = $1 LIMIT $2  [["name", "Stephen KIng"], ["LIMIT", 1]]                         
 => false                                                                       
3.0.0 :007 > Author.where(name: "Stephen King").exists?
  Author Exists? (0.7ms)  SELECT 1 AS one FROM "authors" WHERE "authors"."name" = $1 LIMIT $2  [["name", "Stephen King"], ["LIMIT", 1]]                         
 => true    
 
 3.0.0 :008 > Author.exists?
  Author Exists? (0.8ms)  SELECT 1 AS one FROM "authors" LIMIT $1  [["LIMIT", 1]]                                                             
 => true      
 
 The above returns false if the customers table is empty and true otherwise.

You can also use any? and many? to check for existence on a model or relation. many? will use SQL count to determine if the item exists.

3.0.0 :009 > Author.any?
  Author Exists? (0.7ms)  SELECT 1 AS one FROM "authors" LIMIT $1  [["LIMIT", 1]]                                                             
 => true                                                      
3.0.0 :010 > Author.many?
  Author Count (0.9ms)  SELECT COUNT(*) FROM (SELECT 1 AS one FROM "authors" LIMIT $1) subquery_for_count  [["LIMIT", 2]]                     
 => true                                                      
3.0.0 :011 >


3.0.0 :013 > Author.where(name: true).any?
  Author Exists? (0.8ms)  SELECT 1 AS one FROM "authors" WHERE "authors"."name" = $1 LIMIT $2  [["name", "t"], ["LIMIT", 1]]                                    
 => false 
 
 
 3.0.0 :014 > Author.first.books.any?
  Author Load (0.7ms)  SELECT "authors".* FROM "authors" ORDER BY "authors"."id" ASC LIMIT $1  [["LIMIT", 1]]                                                   
  Book Exists? (0.5ms)  SELECT 1 AS one FROM "books" WHERE "books"."author_id" = $1 LIMIT $2  [["author_id", 1], ["LIMIT", 1]]                                  
 => false                                                                       
3.0.0 :015 > Author.first.books.many?
  Author Load (0.5ms)  SELECT "authors".* FROM "authors" ORDER BY "authors"."id" ASC LIMIT $1  [["LIMIT", 1]]                                                   
  Book Count (0.4ms)  SELECT COUNT(*) FROM (SELECT 1 AS one FROM "books" WHERE "books"."author_id" = $1 LIMIT $2) subquery_for_count  [["author_id", 1], ["LIMIT", 2]]                                                                          
 => false   
        
        
10 Null Relation
The none method returns a chainable relation with no records. Any subsequent conditions chained to the returned relation will continue generating empty relations. This is useful in scenarios where you need a chainable response to a method or a scope that could return zero results.      

3.0.0 :002 > Book.none
 => [] 
3.0.0 :

12 Locking Records for Update

Locking is helpful for preventing race conditions when updating records in the database and ensuring atomic updates.

Active Record provides two locking mechanisms:

    Optimistic Locking
    Pessimistic Locking

3.0.0 :001 > p1 = Publisher.find(1)
  Publisher Load (0.1ms)  SELECT "publishers".* FROM "publishers" WHERE "publishers"."id" = $1 LIMIT $2  [["id", 1], ["LIMIT", 1]]
 =>                                           
#<Publisher:0x000055ebaf1054c8                
...                                           
3.0.0 :002 > p2 = Publisher.find(1)
  Publisher Load (0.6ms)  SELECT "publishers".* FROM "publishers" WHERE "publishers"."id" = $1 LIMIT $2  [["id", 1], ["LIMIT", 1]]
 =>                                           
#<Publisher:0x00007f30e44c34b8                
...                                           
3.0.0 :003 > p1.name
 => "Lioncrest Publisher" 
3.0.0 :004 > p1.name = "Then Lioncrest"
 => "Then Lioncrest" 
3.0.0 :005 > p1.save
  TRANSACTION (0.2ms)  BEGIN
  Publisher Update (0.3ms)  UPDATE "publishers" SET "name" = $1, "updated_at" = $2, "lock_version" = $3 WHERE "publishers"."id" = $4 AND "publishers"."lock_version" = $5  [["name", "Then Lioncrest"], ["updated_at", "2022-06-13 10:05:34.307749"], ["lock_version", 3], ["id", 1], ["lock_version", 2]]
  TRANSACTION (6.8ms)  COMMIT                             
 => true                                                  
3.0.0 :006 > p2.name  = "Lioncrest"
 => "Lioncrest" 
3.0.0 :007 > p2.save
  TRANSACTION (0.2ms)  BEGIN
  Publisher Update (0.5ms)  UPDATE "publishers" SET "name" = $1, "updated_at" = $2, "lock_version" = $3 WHERE "publishers"."id" = $4 AND "publishers"."lock_version" = $5  [["name", "Lioncrest"], ["updated_at", "2022-06-13 10:05:47.739064"], ["lock_version", 3], ["id", 1], ["lock_version", 2]]
  TRANSACTION (0.3ms)  ROLLBACK                           
/home/itsacheckmate/.rvm/gems/ruby-3.0.0/gems/activerecord-7.0.3/lib/active_record/locking/optimistic.rb:108:in `_update_row': Attempted to update a stale object: Publisher. (ActiveRecord::StaleObjectError)    


Pessimistic Locking
Pessimistic locking uses a locking mechanism provided by the underlying database. Using lock when building a relation obtains an exclusive lock on the selected rows. Relations using lock are usually wrapped inside a transaction for preventing deadlock conditions.   

itsacheckmate@itscheckmate:~/Training/rails/book_collection$ rails c                               
Loading development environment (Rails 7.0.3)                                                      
3.0.0 :001 > Publisher.transaction do
3.0.0 :002 >   publisher = Publisher.lock.first
3.0.0 :003 >   publisher.name = "The Lioncrest"
3.0.0 :004 >   publisher.save!
3.0.0 :005 > end
  TRANSACTION (0.2ms)  BEGIN
  Publisher Load (1.1ms)  SELECT "publishers".* FROM "publishers" ORDER BY "publishers"."id" ASC LIMIT $1 FOR UPDATE  [["LIMIT", 1]]
  Publisher Update (0.5ms)  UPDATE "publishers" SET "name" = $1, "updated_at" = $2, "lock_version" = $3 WHERE "publishers"."id" = $4 AND "publishers"."lock_version" = $5  [["name", "The Lioncrest"], ["updated_at", "2022-06-13 10:08:28.408210"], ["lock_version", 4], ["id", 1], ["lock_version", 3]]    
  TRANSACTION (6.7ms)  COMMIT                                                                      
 => true                                                                                           
3.0.0 :006 > publisher.name
(irb):6:in `<main>': undefined local variable or method `publisher' for main:Object (NameError)
Did you mean?  public_send                                                                         
3.0.0 :007 > Publisher.first
  Publisher Load (0.5ms)  SELECT "publishers".* FROM "publishers" ORDER BY "publishers"."id" ASC LIMIT $1  [["LIMIT", 1]]
 => #<Publisher:0x000055c1e1706a90 id: 1, name: "The Lioncrest", created_at: Wed, 20 Oct 0010 00:00:00.000000000 UTC +00:00, updated_at: Mon, 13 Jun 2022 10:08:28.408210000 UTC +00:00, lock_version: 4> 

If you already have an instance of your model, you can start a transaction and acquire the lock in one go using the following code:

itsacheckmate@itscheckmate:~/Training/rails/book_collection$ rails c
Loading development environment (Rails 7.0.3)                                   
3.0.0 :001 > publisher = Publisher.first
  Publisher Load (0.3ms)  SELECT "publishers".* FROM "publishers" ORDER BY "publishers"."id" ASC LIMIT $1  [["LIMIT", 1]]
 => #<Publisher:0x00007f74349e7820 id: 1, name: "The Lioncrest", created_at: Wed, 20 Oct 0010 00:00:00.000000000 UTC +00:00, updated_at: Mon, 13 Jun 2022 10:08:28.408210000 UTC +00:00, lock_versio... 
3.0.0 :002 > publisher.with_lock do
3.0.0 :003 >   publisher.name = "Lioncrest"
3.0.0 :004 > end
  TRANSACTION (0.2ms)  BEGIN
  Publisher Load (0.4ms)  SELECT "publishers".* FROM "publishers" WHERE "publishers"."id" = $1 LIMIT $2 FOR UPDATE  [["id", 1], ["LIMIT", 1]]
  TRANSACTION (6.7ms)  COMMIT                                      
 => "Lioncrest" 
 
 Dynamic Finders

For every field (also known as an attribute) you define in your table, Active Record provides a finder method. If you have a field called first_name on your Customer model for example, you get the instance method find_by_first_name for free from Active Record. If you also have a locked field on the Customer model, you also get find_by_locked method.

You can specify an exclamation point (!) on the end of the dynamic finders to get them to raise an ActiveRecord::RecordNotFound error if they do not return any records, like Customer.find_by_name!("Ryan")

If you want to find both by first_name and orders_count, you can chain these finders together by simply typing "and" between the fields. For example, Customer.find_by_first_name_and_orders_count("Ryan", 5).

3.0.0 :017 > Author.find_by_name!("Ryan")
  Author Load (0.9ms)  SELECT "authors".* FROM "authors" WHERE "authors"."name" = $1 LIMIT $2  [["name", "Ryan"], ["LIMIT", 1]]              
/home/itsacheckmate/.rvm/gems/ruby-3.0.0/gems/activerecord-7.0.3/lib/active_record/relation/finder_methods.rb:378:in `raise_record_not_found_exception!': Couldn't find Author with [WHERE "authors"."name" = $1] (ActiveRecord::RecordNotFound) 

3.0.0 :022 > Author.find_by_name_and_gender("David Goggins", "Male")
  Author Load (0.6ms)  SELECT "authors".* FROM "authors" WHERE "authors"."name" = $1 AND "authors"."gender" = $2 LIMIT $3  [["name", "David Goggins"], ["gender", "Male"], ["LIMIT", 1]]             
 =>                                    
#<Author:0x000055ec7b424df8            
 id: 1,
 name: "David Goggins",
 dob: Tue, 05 May 1970,
 gender: "Male",
 country: "America",
 created_at: Wed, 25 May 2022 11:47:49.986085000 UTC +00:00,
 updated_at: Tue, 31 May 2022 13:28:25.048096000 UTC +00:00,
 lock_version: 1,
 email_address: "david@gmail.com"> 

